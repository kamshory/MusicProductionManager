<!doctype html> 
<html lang="en"> 
<head> 
<title>MagicObject User Manual</title> 
<link rel="stylesheet" type="text/css" href="css/css.css" /> 
<script type="text/javascript" src="js/js.js"></script> 
</head>

<body onload="doStuff()"> 

<div class="articles">


<article class="article" id="part1">
<h1>MagicObject Installation</h1>
<p>To install <strong>MagicObbject</strong></p>
<pre><code>composer require planetbiru/magic-object</code></pre>
<p>or if composer is not installed</p>
<pre><code>php composer.phar require planetbiru/magic-object</code></pre>
<p>To remove <strong>MagicObbject</strong></p>
<pre><code>composer remove planetbiru/magic-object</code></pre>
<p>or if composer is not installed</p>
<pre><code>php composer.phar remove planetbiru/magic-object</code></pre>
<p>To install composer on your PC or download latest composer.phar, click <a href="https://getcomposer.org/download/">https://getcomposer.org/download/</a> </p>
</article>

<article class="article" id="part2">
<h1>MagicObject Implementation</h1>
</article>

<article class="article" id="part3">
<h2>Simple Object</h2>
<h3>Set and Get Properties Value</h3>
<pre><code class="language-php">&lt;?php
use MagicObject\MagicObject;

require_once __DIR__ . "/vendor/autoload.php";

$someObject = new MagicObject();
$someObject-&gt;setId(1);
$someObject-&gt;setRealName("Someone");
$someObject-&gt;setPhone("+62811111111");
$someObject-&gt;setEmail("someone@domain.tld");

echo "ID        : " . $someObject-&gt;getId() . "\r\n";
echo "Real Name : " . $someObject-&gt;getRealName() . "\r\n";
echo "Phone     : " . $someObject-&gt;getPhone() . "\r\n";
echo "Email     : " . $someObject-&gt;getEmail() . "\r\n";

// get JSON string of the object
echo $someObject;

// or you can debug with error_log
error_log($someObject);</code></pre>
<h3>Unset Properties</h3>
<pre><code class="language-php">&lt;?php
use MagicObject\MagicObject;

require_once __DIR__ . "/vendor/autoload.php";

$someObject = new MagicObject();
$someObject-&gt;setId(1);
$someObject-&gt;setRealName("Someone");
$someObject-&gt;setPhone("+62811111111");
$someObject-&gt;setEmail("someone@domain.tld");

echo "ID        : " . $someObject-&gt;getId() . "\r\n";
echo "Real Name : " . $someObject-&gt;getRealName() . "\r\n";
echo "Phone     : " . $someObject-&gt;getPhone() . "\r\n";
echo "Email     : " . $someObject-&gt;getEmail() . "\r\n";

$someObject-&gt;unsetPhone();
echo "Phone     : " . $someObject-&gt;getPhone() . "\r\n";

// get JSON string of the object
echo $someObject;

// or you can debug with
error_log($someObject);</code></pre>
<h3>Check if Properties has Value</h3>
<pre><code class="language-php">&lt;?php
use MagicObject\MagicObject;

require_once __DIR__ . "/vendor/autoload.php";

$someObject = new MagicObject();
$someObject-&gt;setId(1);
$someObject-&gt;setRealName("Someone");
$someObject-&gt;setPhone("+62811111111");
$someObject-&gt;setEmail("someone@domain.tld");

echo "ID        : " . $someObject-&gt;getId() . "\r\n";
echo "Real Name : " . $someObject-&gt;getRealName() . "\r\n";
echo "Phone     : " . $someObject-&gt;getPhone() . "\r\n";
echo "Email     : " . $someObject-&gt;getEmail() . "\r\n";

$someObject-&gt;unsetPhone();
if($someObject-&gt;hasValuePhone())
{
    echo "Phone     : " . $someObject-&gt;getPhone() . "\r\n";
}
else
{
    echo "Phone value is not set\r\n";
}
// another way
if($someObject-&gt;issetPhone())
{
    echo "Phone     : " . $someObject-&gt;getPhone() . "\r\n";
}
else
{
    echo "Phone value is not set\r\n";
}
// get JSON string of the object
echo $someObject;

// or you can debug with
error_log($someObject);</code></pre>
</article>

<article class="article" id="part4">
<h2>Extend Magic Object</h2>
<p>User can extend <code>MagicObject</code> to many classes.</p>
<pre><code class="language-php">&lt;?php

use MagicObject\MagicObject;

/**
 * Example to extends MagicObject
 * 
 * @JSON(property-naming-strategy=SNAKE_CASE, prettify=true)
 */
class MyObject extends MagicObject
{

}</code></pre>
<h3>Class Parameters</h3>
<p><strong>@JSON</strong></p>
<p><code>@JSON</code> is parameter to inform how the object will be serialized.</p>
<p>Attributes:</p>
<ol>
<li><code>property-naming-strategy</code></li>
</ol>
<p>Allowed value:</p>
<ul>
<li><code>SNAKE_CASE</code> all column will be snace case when <code>__toString()</code> or <code>dumpYaml()</code> method called.</li>
<li><code>CAMEL_CASE</code> all column will be camel case when <code>__toString()</code> or <code>dumpYaml()</code> method called.</li>
</ul>
<p>Default value: <code>CAMEL_CASE</code></p>
<ol>
<li><code>prettify</code></li>
</ol>
<p>Allowed value:</p>
<ul>
<li><code>true</code> JSON string will be prettified</li>
<li><code>false</code> JSON string will not be prettified</li>
</ul>
<p>Default value: <code>false</code></p>
</article>

<article class="article" id="part5">
<h2>Multilevel Object</h2>
<pre><code class="language-php">&lt;?php
use MagicObject\MagicObject;

require_once __DIR__ . "/vendor/autoload.php";

$car = new MagicObject();
$tire = new MagicObject();
$body = new MagicObject();

$tire-&gt;setDiameter(12);
$tire-&gt;setPressure(60);

$body-&gt;setLength(320);
$body-&gt;setWidth(160);
$body-&gt;Height(140);
$body-&gt;setColor("red");

$car-&gt;setTire($tire);
$car-&gt;setBody($body);

echo $car;

/*
{"tire":{"diameter":12,"pressure":60},"body":{"length":320,"width":160,"height":140,"color":"red"}}
*/

// to get color

echo $car-&gt;getBody()-&gt;getColor();
</code></pre>
<h3>Parse Yaml</h3>
<pre><code class="language-php">
$song = new MagicObject();
$song-&gt;loadYamlString(
"
songId: 1234567890
title: Lagu 0001
duration: 320
album:
  albumId: 234567
  name: Album 0001
genre:
  genreId: 123456
  name: Pop
vocalist:
  vovalistId: 5678
  name: Budi
  agency:
    agencyId: 1234
    name: Agency 0001
    company:
      companyId: 5678
      name: Company 1
      pic:
        - name: Kamshory
          gender: M
        - name: Mas Roy
          gender: M
timeCreate: 2024-03-03 12:12:12
timeEdit: 2024-03-03 13:13:13
",
false, true, true
);

// to get company name
echo $song-&gt;getVocalist()-&gt;getAgency()-&gt;getCompany()-&gt;getName();
echo "\r\n";
// add company properties
$song-&gt;getVocalist()-&gt;getAgency()-&gt;getCompany()-&gt;setCompanyAddress("Jalan Jendral Sudirman Nomor 1");
// get agency
echo $song-&gt;getVocalist()-&gt;getAgency();
echo "\r\n";

// please note that $song-&gt;getVocalist()-&gt;getAgency()-&gt;getCompany()-&gt;getPic() is an array, not a MagicObject
// to get pic
foreach($song-&gt;getVocalist()-&gt;getAgency()-&gt;getCompany()-&gt;getPic() as $pic)
{
    echo $pic;
    echo "\r\n----\r\n";
}</code></pre>
</article>

<article class="article" id="part6">
<h2>Object from Yaml</h2>
<h3>From Yaml String</h3>
<pre><code class="language-php">&lt;?php
use MagicObject\MagicObject;

require_once __DIR__ . "/vendor/autoload.php";

$car = new MagicObject();
// load yaml string
// will not replace value with environment variable
// load as object instead of associated array
$car-&gt;loadYamlString("
tire: 
  diameter: 12
  pressure: 60
body: 
  length: 320
  width: 160
  height: 140
  color: red
", false, true, true);

echo $car;
/*
{"tire":{"diameter":12,"pressure":60},"body":{"length":320,"width":160,"height":140,"color":"red"}}
*/

// to get color

echo $car-&gt;getBody()-&gt;getColor();
</code></pre>
<h3>From Yaml File</h3>
<pre><code class="language-yaml"># config.yml

tire: 
  diameter: 12
  pressure: 60
body: 
  length: 320
  width: 160
  height: 140
  color: red
</code></pre>
<pre><code class="language-php">&lt;?php
use MagicObject\MagicObject;

require_once __DIR__ . "/vendor/autoload.php";

$car = new MagicObject();
// load file config.yml
// will not replace value with environment variable
// load as object instead of associated array
$car-&gt;loadYamlFile("config.yml", false, true, true);

echo $car;
/*
{"tire":{"diameter":12,"pressure":60},"body":{"length":320,"width":160,"height":140,"color":"red"}}
*/

// to get color

echo $car-&gt;getBody()-&gt;getColor();
</code></pre>
</article>

<article class="article" id="part7">
<h2>Object from INI</h2>
<p>INI not support multilevel object. If multilevel object needed, use Yaml instead.</p>
<h3>From INI String</h3>
<pre><code class="language-php">&lt;?php
use MagicObject\MagicObject;

require_once __DIR__ . "/vendor/autoload.php";

$cfg = new MagicObject();
$cfg-&gt;loadIniString("
app_name = MusicProductionManager
base_song_path = /var/www/songs
", false);
</code></pre>
<h3>From INI File</h3>
<p>Load config from <code>config.ini</code> file</p>
<pre><code class="language-ini">app_name = MusicProductionManager
base_song_path = /var/www/songs</code></pre>
<pre><code class="language-php">&lt;?php
use MagicObject\MagicObject;

require_once __DIR__ . "/vendor/autoload.php";

$cfg = new MagicObject();
$cfg-&gt;loadIniFile(__DIR__ . "/config.ini", false);
</code></pre>
</article>

<article class="article" id="part8">
<h2>Environment Variable</h2>
<p>Many application use environment variable to store the config. We can replace the config template with the environment variable. We must set the environment variable to the server before run the application.</p>
<pre><code class="language-yaml"># config.yml

tire: 
  diameter: ${TIRE_DIAMETER}
  pressure: ${TIRE_PRESSURE}
body: 
  length: ${BODY_LENGTH}
  width: ${BODY_WIDTH}
  height: ${BODY_HEIGHT}
  color: ${BODY_COLOR}
</code></pre>
<p>Before execute this script, user must set environment variable for <code>TIRE_DIAMETER</code>, <code>TIRE_PRESSURE</code>, <code>BODY_LENGTH</code>, <code>BODY_WIDTH</code>, <code>BODY_HEIGHT</code>, and <code>BODY_COLOR</code> depend on the operating system used.</p>
<pre><code class="language-php">&lt;?php
use MagicObject\MagicObject;

require_once __DIR__ . "/vendor/autoload.php";

$car = new MagicObject();
// load file config.yml
// will replace value with environment variable
// load as object instead of associated array
$car-&gt;loadYamlFile("config.yml", true, true);

echo $car;

// to get color

echo $car-&gt;getBody()-&gt;getColor();
</code></pre>
<h3>Create Yaml File</h3>
<pre><code class="language-yaml">result_per_page: 20
song_base_url: ${SONG_BASE_URL}
song_base_path: ${SONG_BASE_PATH}
song_draft_base_url: ${SONG_DRAFT_BASE_URL}
song_draft_base_path: ${SONG_DRAFT_BASE_PATH}
proxy_provider: cloudflare
app_name: Music Production Manager
user_image:
  width: 512
  height: 512
album_image:
  width: 512
  height: 512
song_image:
  width: 512
  height: 512
database:
  time_zone_system: Asia/Jakarta
  default_charset: utf8
  driver: ${APP_DATABASE_TYPE}
  host: ${APP_DATABASE_SERVER}
  port: ${APP_DATABASE_PORT}
  username: ${APP_DATABASE_USER}
  password: ${APP_DATABASE_PASSWORD}
  database_name: ${APP_DATABASE_NAME}
  database_schema: public
  time_zone: ${APP_DATABASE_TIME_ZONE}
  salt: ${APP_DATABASE_SALT}
session:
  name: MUSICPRODUCTIONMANAGER
  max_life_time: 86400
vocal_guide_instrument: piano</code></pre>
<h3>Create Environment Variable</h3>
<p>On Windows, users can directly create environment variables either via the graphical user interface (GUI) or the <code>setx</code> command line. PHP can immediately read environment variables after Windows is restarted.</p>
<p>On Linux, users must create a configuration on the Apache server by creating a file with the .conf extension in the <code>/etc/httpd/conf.d</code> folder then restart Apache web server.</p>
<p><strong>Windows</strong></p>
<p>Setup environtment variable on Windows using command lines.</p>
<pre><code class="language-bash">SETX SONG_BASE_URL "https://domain.tld/path"
SETX APP_DATABASE_TYPE "mariadb"
SETX APP_DATABASE_SERVER "localhost"
SETX APP_DATABASE_PORT "3306"
SETX APP_DATABASE_USER "user"
SETX APP_DATABASE_PASSWORD "pass"
SETX APP_DATABASE_NAME "music"
SETX APP_DATABASE_TIME_ZONE "Asia/Jakarta"
SETX APP_DATABASE_SALT "GaramDapur"</code></pre>
<p><strong>Linux</strong></p>
<p>Setup environtment variable on Linux using command lines create new file configuration used by Apache web server and consumed by PHP.</p>
<pre><code class="language-bash">echo -e '' &gt; /etc/httpd/conf.d/mpm.conf
echo -e 'SetEnv SONG_BASE_URL "https://domain.tld/path"' &gt;&gt; /etc/httpd/conf.d/mpm.conf
echo -e 'SetEnv APP_DATABASE_TYPE "mariadb"' &gt;&gt; /etc/httpd/conf.d/mpm.conf
echo -e 'SetEnv APP_DATABASE_SERVER "localhost"' &gt;&gt; /etc/httpd/conf.d/mpm.conf
echo -e 'SetEnv APP_DATABASE_PORT "3306"' &gt;&gt; /etc/httpd/conf.d/mpm.conf
echo -e 'SetEnv APP_DATABASE_USER "user"' &gt;&gt; /etc/httpd/conf.d/mpm.conf
echo -e 'SetEnv APP_DATABASE_PASSWORD "pass"' &gt;&gt; /etc/httpd/conf.d/mpm.conf
echo -e 'SetEnv APP_DATABASE_NAME "music"' &gt;&gt; /etc/httpd/conf.d/mpm.conf
echo -e 'SetEnv APP_DATABASE_TIME_ZONE "Asia/Jakarta"' &gt;&gt; /etc/httpd/conf.d/mpm.conf
echo -e 'SetEnv APP_DATABASE_SALT "GaramDapur"' &gt;&gt; /etc/httpd/conf.d/mpm.conf

service httpd restart</code></pre>
</article>

<article class="article" id="part9">
<h2>Secret Object</h2>
<h3>Definition</h3>
<p>Secret Objects are very important in applications that use very sensitive and secret configurations. This configuration must be encrypted so that it cannot be seen either when someone tries to open the configuration file, environment variables, or even when the developer accidentally debugs an object related to the database so that the properties of the database object are exposed including the host name, database name, username and even password.</p>
<pre><code class="language-php">&lt;?php

namespace MagicObject\Database;

use MagicObject\SecretObject;

class PicoDatabaseCredentials extends SecretObject
{
    /**
     * Database driver
     *
     * @var string
     */
    protected $driver = 'mysql';

    /**
     * Database server host
     *
     * @EncryptIn
     * @DecryptOut
     * @var string
     */
    protected $host = 'localhost';

    /**
     * Database server port
     * @var integer
     */
    protected $port = 3306;

    /**
     * Database username
     *
     * @EncryptIn
     * @DecryptOut
     * @var string
     */
    protected $username = "";

    /**
     * Database user password
     *
     * @EncryptIn
     * @DecryptOut
     * @var string
     */
    protected $password = "";

    /**
     * Database name
     *
     * @EncryptIn
     * @DecryptOut
     * @var string
     */
    protected $databaseName = "";

    /**
     * Database schema
     *
     * @EncryptIn
     * @DecryptOut
     * @var string
     */
    protected $databseSchema = "public";

    /**
     * Application time zone
     *
     * @var string
     */
    protected $timeZone = "Asia/Jakarta";
}</code></pre>
<h3>Class Parameters</h3>
<p><strong>@JSON</strong></p>
<p><code>@JSON</code> is parameter to inform how the object will be serialized.</p>
<p>Attributes:
<code>property-naming-strategy</code></p>
<p>Allowed value:</p>
<ul>
<li><code>SNAKE_CASE</code> all column will be snace case when <code>__toString()</code> or <code>dumpYaml()</code> method called.</li>
<li><code>CAMEL_CASE</code> all column will be camel case when <code>__toString()</code> or <code>dumpYaml()</code> method called.</li>
</ul>
<h3>Property Parameters</h3>
<ol>
<li><code>@EncryptIn</code> annotation will encrypt the value before it is assigned to the associated property with the <code>set</code> method. </li>
<li><code>@DecryptIn</code> annotation will decrypt the value before it is assigned to the associated property with the <code>set</code> method. </li>
<li><code>@EncryptOut</code> annotation will encrypt the property when application call <code>get</code> method. </li>
<li><code>@DecryptOut</code> annotation will decrypt the property when application call <code>get</code> method. </li>
</ol>
<h3>Create Secure Config</h3>
<p>When creating a secure application configuration, users can simply use the <code>@EncryptOut</code> annotation. MagicObject will load the configuration as entered but will encrypt it when dumped to a file. For configurations that will not be encrypted, do not use <code>@EncryptIn</code>, <code>@DecryptIn</code>, <code>@EncryptOut</code>, or <code>@DecryptOut</code>. </p>
<pre><code class="language-php">&lt;?php

namespace MagicObject\Database;

use MagicObject\SecretObject;

class SecretGenerator extends SecretObject
{
    /**
     * Database driver
     *
     * @var string
     */
    protected $driver;

    /**
     * Database server host
     *
     * @EncryptOut
     * @var string
     */
    protected $host;

    /**
     * Database server port
     * @var integer
     */
    protected $port;

    /**
     * Database username
     *
     * @EncryptOut
     * @var string
     */
    protected $username;

    /**
     * Database user password
     *
     * @EncryptOut
     * @var string
     */
    protected $password;

    /**
     * Database name
     *
     * @EncryptOut
     * @var string
     */
    protected $databaseName;

    /**
     * Database schema
     *
     * @EncryptOut
     * @var string
     */
    protected $databseSchema;

    /**
     * Application time zone
     *
     * @var string
     */
    protected $timeZone;
}</code></pre>
<pre><code class="language-php">
$yaml = "  
time_zone_system: Asia/Jakarta
default_charset: utf8
driver: mysql
host: localhost
port: 3306
username: root
password: password
database_name: music
database_schema: public
time_zone: Asia/Jakarta
salt: GaramDapur
";

$config = new MagicObject();
$config-&gt;loadYamlString($yaml);
$generator = new SecretGenerator($config);

echo $generator; // will print JSON

$secretYaml = $generator-&gt;dumpYaml(null, 4, 0); // will print secret yaml

file_put_content("secret.yaml", $secretYaml); // will dump to file secret.yaml</code></pre>
<p>Do not use standard encryption keys when creating or using SecretObjects. Always use your own lock. The encryption key must be generated using a callback function. Do not enter it as an object property or constant.</p>
<pre><code class="language-php">
$yaml = "  
time_zone_system: Asia/Jakarta
default_charset: utf8
driver: mysql
host: localhost
port: 3306
username: root
password: password
database_name: music
database_schema: public
time_zone: Asia/Jakarta
salt: GaramDapur
";

$config = new MagicObject();
$config-&gt;loadYamlString($yaml, false, true, true);
$generator = new SecretGenerator($config, function(){
    // define your own key here
    return "6619f3e7a1a9f0e75838d41ff368f72868e656b251e67e8358bef8483ab0d51c";
});

echo $generator; // will print JSON

$secretYaml = $generator-&gt;dumpYaml(null, 4, 0); // will print secret yaml

file_put_content("secret.yaml", $secretYaml); // will dump to file secret.yaml</code></pre>
<p>or you can also call another function. </p>
<pre><code class="language-php">
function getSecure()
{
    return "6619f3e7a1a9f0e75838d41ff368f72868e656b251e67e8358bef8483ab0d51c";
}

$yaml = "  
time_zone_system: Asia/Jakarta
default_charset: utf8
driver: mysql
host: localhost
port: 3306
username: root
password: password
database_name: music
database_schema: public
time_zone: Asia/Jakarta
salt: GaramDapur
";

$config = new MagicObject();
$config-&gt;loadYamlString($yaml, false, true, true);
$generator = new SecretGenerator($config, function(){
    // define your own key here
    return getSecure();
});

echo $generator; // will print JSON

$secretYaml = $generator-&gt;dumpYaml(null, 4, 0); // will print secret yaml

file_put_content("secret.yaml", $secretYaml); // will dump to file secret.yaml</code></pre>
<h3>Implement Secure Config</h3>
<p>Application configuration is usually written in a file or environment variable after being encrypted. This configuration cannot be read by anyone without decrypting it first. MagicObject will retrieve the encrypted value. If a user accidentally dumps an object using <code>var_dump</code> or <code>print_r</code>, then PHP will only display the encrypted value. When PHP makes a connection to the database using a credential, MagicObject will decrypt it but the value will not be stored in the object's properties.</p>
<p>Thus, to create an application configuration, it is enough to use the <code>@DecryptOut</code> annotation. Thus, MagicObject will only decrypt the configuration when it is ready to be used.</p>
<p><strong>Example 1</strong></p>
<pre><code class="language-php">&lt;?php

namespace MagicObject\Database;

use MagicObject\SecretObject;

class PicoDatabaseCredentials extends SecretObject
{
    /**
     * Database driver
     *
     * @var string
     */
    protected $driver = 'mysql';

    /**
     * Database server host
     *
     * @DecryptOut
     * @var string
     */
    protected $host = 'localhost';

    /**
     * Database server port
     * @var integer
     */
    protected $port = 3306;

    /**
     * Database username
     *
     * @DecryptOut
     * @var string
     */
    protected $username = "";

    /**
     * Database user password
     *
     * @DecryptOut
     * @var string
     */
    protected $password = "";

    /**
     * Database name
     *
     * @DecryptOut
     * @var string
     */
    protected $databaseName = "";

    /**
     * Database schema
     *
     * @DecryptOut
     * @var string
     */
    protected $databseSchema = "public";

    /**
     * Application time zone
     *
     * @var string
     */
    protected $timeZone = "Asia/Jakarta";
}</code></pre>
<h3>Multilevel Object Secure</h3>
<p>MagicObject also support Multilevel Yaml.</p>
<p><strong>Example</strong></p>
<pre><code class="language-php">&lt;?php

use MagicObject\SecretObject;

require_once dirname(__DIR__) . "/vendor/autoload.php";

/**
 * @JSON(property-naming-strategy=SNAKE_CASE)
 */
class ConfigSecret1 extends SecretObject
{
    /**
     * Database
     * 
     * @EncryptOut
     * @var mixed
     */
    protected $database;

    /**
     * Session
     * 
     * @EncryptOut
     * @var mixed
     */
    protected $session;
}

/**
 * @JSON(property-naming-strategy=SNAKE_CASE)
 */
class ConfigSecret2 extends SecretObject
{
    /**
     * Database
     * 
     * @DecryptOut
     * @var mixed
     */
    protected $database;

    /**
     * Session
     * 
     * @DecryptOut
     * @var mixed
     */
    protected $session;
}

$secret1 = new ConfigSecret1(null, function(){
    return bin2hex("This is your secure key for Scrt");
});

$yaml1 = "
result_per_page: 20
song_base_url: http//domain.tld/songs
song_base_path: /var/www/songs
song_draft_base_url: http//domain.tld/songs-draft
song_draft_base_path: /var/www/songs-draft
proxy_provider: cloudflare
app_name: Music Production Manager
user_image:
  width: 512
  height: 512
album_image:
  width: 512
  height: 512
song_image:
  width: 512
  height: 512
database:
  time_zone_system: Asia/Jakarta
  default_charset: utf8
  driver: mysql
  host: localhost
  port: 3306
  username: user
  password: pass
  database_name: music
  database_schema: public
  time_zone: Asia/Jakarta
  salt: Asia/Jakarta
session:
  name: MUSICPRODUCTIONMANAGER
  max_life_time: 86400
  save_handler: files
  save_path: /tmp/session
vocal_guide_instrument: piano
";
$secret1-&gt;loadYamlString(
$yaml1,
false, true, true
);

echo $secret1-&gt;dumpYaml(null, 4);

$yaml2 = "
database:
    time_zone_system: UEMGavyLkN7rFAmoXBsdDKwuGC+zFttpPTAaqeMH0XUEZaAMKbyvykNtfqT+F8FcAbQCUHV66qjYfjArzgrHlA==
    default_charset: dawURojqYqXdvt2YdZ+kWsq47bcA7FKWnEfGHPMxJr3KUyKxAC0VrH8Khfqcm5iIzQFHE/1wQbdgxJNiffkayw==
    driver: Ur4FCOYvXGPpoMpHm3fwhdK5D3SaP0+MGe4IuPAvpzhAvRcjOW7EZe5VvDAf+0CLeus9tCqqE1sTXj/dxfmkaA==
    host: zyfIMxYi/qQAbazR+nOaLnXFUN9qDYiapxlvocKYxkL8uuN6zRrP3Jsj0mlj6UnLOlvhfDgF3Pq0PrP2ZORGNg==
    port: Cs3NTbxIXJ0lf1umQuuDXbPqdBPlVg+jeXi6UqqUUvVUQWgAhbfenfP8g81cONoY2dXof+P1V5Gr/q+iDLNv5Q==
    username: 5NImv2VEL1WSbt3cqx7gi/8f158SYtssj74zTN2fRrIDsGOxsnEa8+50H3Y1MCaJV7SnZo851dnjEhm38Tzjsg==
    password: /1SK1m9qVjbWnGa6/xai2H82OWvzXeErRvtQ0RYceGsr3fvAfGfqcDSY6pq8KoXg6MmtJS0FLyjXUq8dftM7yQ==
    database_name: ZQ0PTeDl7AOtjDBV1PHzlwMbPBVZmhXuO65O1pDYYCGQSMNf3GpQJi9SkvGApQ8kBKUgPAmchCTYb8ChL2szrQ==
    database_schema: 628aqGw8hLV8Malwg6jninVfNRgDUgANtXdPfIuz8IohoMQ4NROIuj7Y28/SeLD74NPoiBYFZpaON9+jV8QQug==
    time_zone: zfpl4IxctWh2Y/UnrANjuCKlnevw8MmoSboMtzV3oBzKKN0gg+TT/Zz/QieHkVd+pn7OHx2OXvLadkzzWQTMUQ==
    salt: hdsBgcmvq/rzfNUuhgQiBop4Hp4wqd5w03Il9zaOshK0LgGtaEK1WTcPx5OdL+9VvhmZvs7g/jDGYjYoHwXjIg==
session:
    name: 4u5xAE2K74pUxZyIVsphoYUka3vpnzUx7op6CnELtdWNEepz/jQLaKynItFt5dx6bv7wjBUFL1AaZaA4ypw/CP6xtR5WFQy+RV6V8VqYM8o=
    max_life_time: cspEenRp8+kwUY1RNvmEdWcLqmsRZ+UJZVjY4JwRsuIIfkr+J0w1SYCuRMzMtHG4/hZ5tlXhtGdRZyM7quCbZg==
    save_handler: LIlCCaWHVqg9R4G6ghxDZnuenMLgSI6HjiW+tVGNDa7UyIA7FkFtOgOJtvT/EolUc+kkJSXiMo+76QhvFFq8Dg==
    save_path: CZijzyucTzrj3tZ1M9PbQ6Hky1+4Gz3RnXwZNSe9/SL+9QZdpK4PoW2TSLsuQ+cKBgKgkncd7JXWgA3CFg0f1A==
result_per_page: 20
song_base_url: http//domain.tld/songs
song_base_path: /var/www/songs
song_draft_base_url: http//domain.tld/songs-draft
song_draft_base_path: /var/www/songs-draft
proxy_provider: cloudflare
app_name: 'Music Production Manager'
user_image:
    width: 512
    height: 512
album_image:
    width: 512
    height: 512
song_image:
    width: 512
    height: 512
vocal_guide_instrument: piano
";

$secret2 = new ConfigSecret2(null, function(){
    return bin2hex("This is your secure key for Scrt");
});$secret2-&gt;loadYamlString($yaml2, false, true, true);

echo $secret2-&gt;dumpYaml(null, 4);</code></pre>
<h3>Secure Config from DynamicObject</h3>
<pre><code class="language-php">&lt;?php

use MagicObject\Database\PicoDatabase;
use MagicObject\Database\PicoDatabaseCredentials;
use MusicProductionManager\App\ShutdownManager;
use MusicProductionManager\Config\ConfigApp;
use MagicObject\SecretObject;
namespace MagicObject\Database;

require_once __DIR__ . "/vendor/autoload.php";

/**
 * PicoDatabaseCredentials class
 * The SecretObject will encrypt all attributes to prevent unauthorized user read the database configuration
 */
class PicoDatabaseCredentials extends SecretObject
{
    /**
     * Database driver
     *
     * @var string
     */
    protected $driver = 'mysql';

    /**
     * Database server host
     *
     * @DecryptOut
     * @var string
     */
    protected $host = 'localhost';

    /**
     * Database server port
     * @var integer
     */
    protected $port = 3306;

    /**
     * Database username
     *
     * @DecryptOut
     * @var string
     */
    protected $username = "";

    /**
     * Database user password
     *
     * @DecryptOut
     * @var string
     */
    protected $password = "";

    /**
     * Database name
     *
     * @DecryptOut
     * @var string
     */
    protected $databaseName = "";

    /**
     * Database schema
     *
     * @DecryptOut
     * @var string
     */
    protected $databseSchema = "public";

    /**
     * Application time zone
     *
     * @var string
     */
    protected $timeZone = "Asia/Jakarta";
}

$cfg = new ConfigApp(null, true);
$cfg-&gt;loadYamlFile(dirname(__DIR__)."/.cfg/app.yml", true, true);

$databaseCredentials = new PicoDatabaseCredentials($cfg-&gt;getDatabase());

$database = new PicoDatabase($databaseCredentials, 
    function($sql, $type) //NOSONAR
    {
        // callback when execute query that modify data
    }, 
    function($sql) //NOSONAR
    {
        // callback when execute all query
    }
);

try
{
    $database-&gt;connect();
    $shutdownManager = new ShutdownManager($database);
    $shutdownManager-&gt;registerShutdown();
}
catch(Exception $e)
{
    // do nothing
}
</code></pre>
</article>

<article class="article" id="part10">
<h2>Input POST/GET/COOKIE/REQUEST/SERVER</h2>
<h3>Input POST</h3>
<pre><code class="language-php">
use MagicObject\Request\InputPost;

require_once __DIR__ . "/vendor/autoload.php";

$inputPost = new InputPost();

$name = $inputPost-&gt;getRealName();
// equivalen to 
$name = $_POST['real_name'];
</code></pre>
<h3>Input GET</h3>
<pre><code class="language-php">
use MagicObject\Request\InputGet;

require_once __DIR__ . "/vendor/autoload.php";

$inputGet = new InputGet();

$name = $inputGet-&gt;getRealName();
// equivalen to 
$name = $_GET['real_name'];
</code></pre>
<h3>Input COOKIE</h3>
<pre><code class="language-php">
use MagicObject\Request\InputCookie;

require_once __DIR__ . "/vendor/autoload.php";

$inputCookie = new InputCookie();

$name = $inputCookie-&gt;getRealName();
// equivalen to 
$name = $_COOKIE['real_name'];
</code></pre>
<h3>Input REQUEST</h3>
<pre><code class="language-php">
use MagicObject\Request\InputRequest;

require_once __DIR__ . "/vendor/autoload.php";

$inputRequest = new InputRequest();

$name = $inputRequest-&gt;getRealName();
// equivalen to 
$name = $_REQUEST['real_name'];
</code></pre>
<h3>Input SERVER</h3>
<pre><code class="language-php">
use MagicObject\Request\InputServer;

require_once __DIR__ . "/vendor/autoload.php";

$inputServer = new InputServer();

$remoteAddress = $inputServer-&gt;getRemoteAddr();
// equivalen to 
$remoteAddress = $_SERVER_['REMOTE_ADDR'];
</code></pre>
<h3>Filter Input</h3>
<p>Filter input from InputGet, InputPost, InputRequest and InputCookie</p>
<pre><code class="language-php">
use MagicObject\Request\InputGet;
use MagicObject\Request\PicoFilterConstant;

require_once __DIR__ . "/vendor/autoload.php";

$inputGet = new InputGet();

$name = $inputGet-&gt;getRealName(PicoFilterConstant::FILTER_SANITIZE_SPECIAL_CHARS);
// equivalen to 
$name =  filter_input(
    INPUT_GET,
    'real_name',
    FILTER_SANITIZE_SPECIAL_CHARS
);

// another way to filter input
// it will update value taken from $_GET['real_name']
$inputGet-&gt;filterRealName(PicoFilterConstant::FILTER_SANITIZE_SPECIAL_CHARS);

// so you can use it later
$name = $inputGet-&gt;getRealName();
</code></pre>
<p>List of filter</p>
<pre><code>FILTER_SANITIZE_NO_DOUBLE_SPACE = 512;
FILTER_SANITIZE_PASSWORD = 511;
FILTER_SANITIZE_ALPHA = 510;
FILTER_SANITIZE_ALPHANUMERIC = 509;
FILTER_SANITIZE_ALPHANUMERICPUNC = 506;
FILTER_SANITIZE_NUMBER_UINT = 508;
FILTER_SANITIZE_NUMBER_INT = 519;
FILTER_SANITIZE_URL = 518;
FILTER_SANITIZE_NUMBER_FLOAT = 520;
FILTER_SANITIZE_STRING_NEW = 513;
FILTER_SANITIZE_ENCODED = 514;
FILTER_SANITIZE_STRING_INLINE = 507;
FILTER_SANITIZE_STRING_BASE64 = 505;
FILTER_SANITIZE_IP = 504;
FILTER_SANITIZE_NUMBER_OCTAL = 503;
FILTER_SANITIZE_NUMBER_HEXADECIMAL = 502;
FILTER_SANITIZE_COLOR = 501;
FILTER_SANITIZE_POINT = 500;
FILTER_SANITIZE_BOOL = 600;
FILTER_VALIDATE_URL = 273;
FILTER_VALIDATE_EMAIL = 274;
FILTER_SANITIZE_EMAIL = 517;
FILTER_SANITIZE_SPECIAL_CHARS = 515;
FILTER_SANITIZE_ASCII = 601;</code></pre>
</article>

<article class="article" id="part11">
<h2>Session</h2>
<p>Session variables keep information about one single user, and are available to all pages in one application.</p>
<h3>Session with File</h3>
<p><strong>Yaml File</strong></p>
<pre><code class="language-yaml">session:
  name: MUSICPRODUCTIONMANAGER
  max_life_time: 86400
  save_handler: files
  save_path: /tmp/sessions</code></pre>
<p><strong>PHP Script</strong></p>
<pre><code class="language-php">&lt;?php

use MagicObject\SecretObject;
use MagicObject\Session\PicoSession;

require_once __DIR__ . "/vendor/autoload.php";

$cfg = new ConfigApp(null, true);
$cfg-&gt;loadYamlFile(__DIR__ . "/.cfg/app.yml", true, true);

$sessConf = new SecretObject($cfg-&gt;getSession());
$sessions = new PicoSession($sessConf);

$sessions-&gt;startSession();</code></pre>
<h3>Session with Redis</h3>
<p><strong>Yaml File</strong></p>
<pre><code class="language-yaml">session:
  name: MUSICPRODUCTIONMANAGER
  max_life_time: 86400
  save_handler: redis
  save_path: tcp://127.0.0.1:6379?auth=myredispass</code></pre>
<p>or</p>
<pre><code class="language-yaml">session:
  name: MUSICPRODUCTIONMANAGER
  max_life_time: 86400
  save_handler: redis
  save_path: tcp://127.0.0.1:6379?auth=${REDIS_AUTH}</code></pre>
<p><strong>WARNING!</strong></p>
<p>You can not encrypt the <code>${REDIS_AUTH}</code> value. If you want to secure the config, encrypt entire <code>save_path</code> instead.</p>
<p>For example:</p>
<pre><code class="language-yaml">session:
  name: MUSICPRODUCTIONMANAGER
  max_life_time: 86400
  save_handler: redis
  save_path: ${SESSION_SAVE_PATH}</code></pre>
<p><code>${SESSION_SAVE_PATH}</code> contains entire of <code>save_path</code> that encrypted with you secure key.</p>
<p><strong>PHP Script</strong></p>
<pre><code class="language-php">&lt;?php

use MagicObject\SecretObject;
use MagicObject\Session\PicoSession;

require_once __DIR__ . "/vendor/autoload.php";

$cfg = new ConfigApp(null, true);
$cfg-&gt;loadYamlFile(__DIR__ . "/.cfg/app.yml", true, true);

$sessConf = new SecretObject($cfg-&gt;getSession());
$sessions = new PicoSession($sessConf);

$sessions-&gt;startSession();</code></pre>
<p>If you want to encrypt <code>session.save_path</code>, you must define your own class.</p>
<p><strong>PHP Script</strong></p>
<pre><code class="language-php">&lt;?php

use MagicObject\SecretObject;
use MagicObject\Session\PicoSession;

require_once __DIR__ . "/vendor/autoload.php";

class SessionSecureConfig extends SecretObject
{
  /**
   * Session save path
   * save_path is encrypted and stored in ${SESSION_SAVE_PATH}. To decrypt it, use anotation DecryptOut
   * 
   * @DecryptOut
   * @var string
   */ 
  protected $savePath;
}

$cfg = new ConfigApp(null, true);
$cfg-&gt;loadYamlFile(__DIR__ . "/.cfg/app.yml", true, true);

$sessConf = new SessionSecureConfig($cfg-&gt;getSession());
$sessions = new PicoSession($sessConf);

$sessions-&gt;startSession();</code></pre>
</article>

<article class="article" id="part12">
<h2>Entity</h2>
<p>Entity is class to access database. Entity is derived from MagicObject. Some annotations required to activated all entity features. </p>
<pre><code class="language-php">&lt;?php

namespace MusicProductionManager\Data\Entity;

use MagicObject\MagicObject;

/**
 * @Entity
 * @JSON(property-naming-strategy=SNAKE_CASE, prettify=true)
 * @Table(name="album")
 */
class Album extends MagicObject
{
    /**
     * Album ID
     * 
     * @Id
     * @GeneratedValue(strategy=GenerationType.UUID)
     * @NotNull
     * @Column(name="album_id", type="varchar(50)", length=50, nullable=false)
     * @Label(content="Album ID")
     * @var string
     */
    protected $albumId;

    /**
     * Name
     * 
     * @Column(name="name", type="varchar(50)", length=50, nullable=true)
     * @Label(content="Name")
     * @var string
     */
    protected $name;

    /**
     * Title
     * 
     * @Column(name="title", type="text", nullable=true)
     * @Label(content="Title")
     * @var string
     */
    protected $title;

    /**
     * Description
     * 
     * @Column(name="description", type="longtext", nullable=true)
     * @Label(content="Description")
     * @var string
     */
    protected $description;

    /**
     * Producer ID
     * 
     * @Column(name="producer_id", type="varchar(40)", length=40, nullable=true)
     * @Label(content="Producer ID")
     * @var string
     */
    protected $producerId;

    /**
     * Release Date
     * 
     * @Column(name="release_date", type="date", nullable=true)
     * @Label(content="Release Date")
     * @var string
     */
    protected $releaseDate;

    /**
     * Number Of Song
     * 
     * @Column(name="number_of_song", type="int(11)", length=11, nullable=true)
     * @Label(content="Number Of Song")
     * @var integer
     */
    protected $numberOfSong;

    /**
     * Duration
     * 
     * @Column(name="duration", type="float", nullable=true)
     * @Label(content="Duration")
     * @var double
     */
    protected $duration;

    /**
     * Image Path
     * 
     * @Column(name="image_path", type="text", nullable=true)
     * @Label(content="Image Path")
     * @var string
     */
    protected $imagePath;

    /**
     * Sort Order
     * 
     * @Column(name="sort_order", type="int(11)", length=11, nullable=true)
     * @Label(content="Sort Order")
     * @var integer
     */
    protected $sortOrder;

    /**
     * Time Create
     * 
     * @Column(name="time_create", type="timestamp", length=19, nullable=true, updatable=false)
     * @Label(content="Time Create")
     * @var string
     */
    protected $timeCreate;

    /**
     * Time Edit
     * 
     * @Column(name="time_edit", type="timestamp", length=19, nullable=true)
     * @Label(content="Time Edit")
     * @var string
     */
    protected $timeEdit;

    /**
     * Admin Create
     * 
     * @Column(name="admin_create", type="varchar(40)", length=40, nullable=true, updatable=false)
     * @Label(content="Admin Create")
     * @var string
     */
    protected $adminCreate;

    /**
     * Admin Edit
     * 
     * @Column(name="admin_edit", type="varchar(40)", length=40, nullable=true)
     * @Label(content="Admin Edit")
     * @var string
     */
    protected $adminEdit;

    /**
     * IP Create
     * 
     * @Column(name="ip_create", type="varchar(50)", length=50, nullable=true, updatable=false)
     * @Label(content="IP Create")
     * @var string
     */
    protected $ipCreate;

    /**
     * IP Edit
     * 
     * @Column(name="ip_edit", type="varchar(50)", length=50, nullable=true)
     * @Label(content="IP Edit")
     * @var string
     */
    protected $ipEdit;

    /**
     * Active
     * 
     * @Column(name="active", type="tinyint(1)", length=1, default_value="1", nullable=true)
     * @DefaultColumn(value="1")
     * @var boolean
     */
    protected $active;

    /**
     * As Draft
     * 
     * @Column(name="as_draft", type="tinyint(1)", length=1, default_value="1", nullable=true)
     * @DefaultColumn(value="1")
     * @var boolean
     */
    protected $asDraft;

}</code></pre>
<ul>
<li>@Entity</li>
<li>@JSON(property-naming-strategy=SNAKE_CASE)</li>
<li>@Table(name=&quot;album&quot;)</li>
</ul>
<h3>Class Parameters</h3>
<p><strong>@Entity</strong></p>
<p><code>@Entity</code> is parameter to validate that the object is an entity.</p>
<p><strong>@JSON</strong></p>
<p><code>@JSON</code> is parameter to inform how the object will be serialized.</p>
<p>Attributes:</p>
<ol>
<li><code>property-naming-strategy</code></li>
</ol>
<p>Allowed value:</p>
<ul>
<li><code>SNAKE_CASE</code> all column will be snace case when <code>__toString()</code> or <code>dumpYaml()</code> method called.</li>
<li><code>CAMEL_CASE</code> all column will be camel case when <code>__toString()</code> or <code>dumpYaml()</code> method called.</li>
</ul>
<p>Default value: <code>CAMEL_CASE</code></p>
<ol>
<li><code>prettify</code></li>
</ol>
<p>Allowed value:</p>
<ul>
<li><code>true</code> JSON string will be prettified</li>
<li><code>false</code> JSON string will not be prettified</li>
</ul>
<p>Default value: <code>false</code></p>
<p><strong>@Table</strong></p>
<p><code>@Table</code> is parameter contains table information.</p>
<p>Attributes:
<code>name</code></p>
<p><code>name</code> is the table name of the entity.</p>
<h3>Property Parameters</h3>
<ul>
<li>@Id</li>
<li>@GeneratedValue(strategy=GenerationType.UUID)</li>
<li>@NotNull</li>
<li>@Column(name=&quot;album_id&quot;, type=&quot;varchar(50)&quot;, length=50, nullable=false)</li>
<li>@Label(content=&quot;Album ID&quot;)</li>
<li>@var string</li>
</ul>
<p><strong>@Id</strong></p>
<p><code>@Id</code> indicate that the column is primary key.</p>
<p><strong>@GeneratedValue</strong></p>
<p><code>@GeneratedValue</code> indicated that the column is has autogenerated value.</p>
<p>Attributes:</p>
<ul>
<li><code>strategy</code></li>
<li><code>generator</code></li>
</ul>
<p><code>strategy</code> is strategy to generate auto value.</p>
<p>Allowed value:</p>
<p><strong>1. GenerationType.UUID</strong></p>
<p>Generate 20 bytes unique ID</p>
<ul>
<li>14 byte hexadecimal of uniqid <a href="https://www.php.net/manual/en/function.uniqid.php">https://www.php.net/manual/en/function.uniqid.php</a></li>
<li>6 byte hexadecimal or random number</li>
</ul>
<p><strong>2. GenerationType.IDENTITY</strong></p>
<p>Autoincrement using database feature</p>
<p>MagicObject will not update <code>time_create</code>, <code>admin_create</code>, and <code>ip_create</code> because <code>updatable=false</code>. So, even if the application wants to update this value, this column will be ignored when performing an update query to the database.</p>
<p><code>generator</code> is generator of the value.</p>
<p><strong>@NotNull</strong></p>
<p><code>@NotNull</code> indicate that the column is not null. MagicObject will use it when user insert or update data with null values.</p>
<p><strong>@Column</strong></p>
<p><code>@Column</code> is parameter to store the information of the column.</p>
<p>Attributes:</p>
<ul>
<li><code>name</code></li>
<li><code>type</code></li>
<li><code>length</code></li>
<li><code>nullable</code></li>
<li><code>default_value</code></li>
<li><code>insertable</code></li>
<li><code>updatable</code></li>
</ul>
<p><code>name</code> is column name.</p>
<p><code>type</code> is column type.</p>
<p><code>length</code> is column length if any.</p>
<p><code>nullable</code> indicate that column value can be <code>null</code> or not. Available value of <code>nullable</code> is <code>true</code> and <code>false</code>. </p>
<p><code>default_value</code> is default value of the column.</p>
<p><code>insertable</code> indicate that column will exists on <code>INSERT</code> statement. Available value of <code>insertable</code> is <code>true</code> and <code>false</code>. </p>
<p><code>updatable</code> indicate that column will exists on <code>UPDATE</code> statement. Available value of <code>updatable</code> is <code>true</code> and <code>false</code>. </p>
<p><strong>@JoinColumn</strong></p>
<p><code>@JoinColumn</code> is parameter to store the information of the join column.</p>
<p>Attributes:</p>
<ul>
<li><code>name</code></li>
</ul>
<p><code>name</code> is column name of the join table.</p>
<p><strong>@Label</strong> is parameter to store label of the column.</p>
<p>Attributes:</p>
<ul>
<li><code>content</code></li>
</ul>
<p><code>content</code> is the content of the column label. Use quote to create label. For example <code>@Label(content="Album ID")</code>.</p>
<p><strong>@var</strong></p>
<p><code>@var</code> is native annotation of class field. MagicObject use this annotation to fix the column value given.</p>
<h3>Usage</h3>
<pre><code class="language-php">&lt;?php

use MagicObject\Database\PicoDatabase;
use MagicObject\Database\PicoDatabaseCredentials;
use MusicProductionManager\Config\ConfigApp;

use MusicProductionManager\Config\ConfigApp;

use MusicProductionManager\Data\Entity\Album;

require_once dirname(__DIR__)."/vendor/autoload.php";

$cfg = new ConfigApp(null, true);
$cfg-&gt;loadYamlFile(dirname(__DIR__)."/.cfg/app.yml", true, true);

$databaseCredentials = new PicoDatabaseCredentials($cfg-&gt;getDatabase());
$database = new PicoDatabase($databaseCredentials);
try
{
    $database-&gt;connect();

    // create new 

    $album1 = new Album(null, $database);
    $album1-&gt;setAlbumId("123456");
    $album1-&gt;setName("Album 1");
    $album1-&gt;setAdminCreate("USER1");
    $album1-&gt;setDuration(300);

    // other way to create object
    // create object from stdClass or other object with match property (snake case or camel case)
    $data = new stdClass;
    // snake case
    $data-&gt;album_id = "123456";
    $data-&gt;name = "Album 1";
    $data-&gt;admin_create = "USER1";
    $data-&gt;duration = 300;

    // or camel case
    $data-&gt;albumId = "123456";
    $data-&gt;name = "Album 1";
    $data-&gt;adminCreate = "USER1";
    $data-&gt;duration = 300;

    $album1 = new Album($data, $database); 

    // other way to create object
    // create object from associated array with match property (snake case or camel case)
    $data = array();
    // snake case
    $data["album_id"] "123456";
    $data["name"] = "Album 1";
    $data["admin_create"] = "USER1";
    $data["duration"] = 300;

    // or camel case
    $data["albumId"] = "123456";
    $data["name"] = "Album 1";
    $data["adminCreate"] = "USER1";
    $data["duration"] = 300;
    $album1 = new Album($data, $database);

    // get value from form
    // this way is not safe
    $album1 = new Album($_POST, $database);

    // we can use other way
    $inputPost = new InputPost();

    // we can apply filter
    $inputPost-&gt;filterName(PicoFilterConstant::FILTER_SANITIZE_SPECIAL_CHARS);
    $inputPost-&gt;filterDescription(PicoFilterConstant::FILTER_SANITIZE_SPECIAL_CHARS);

    // if property not present in $inputPost, we can set default value
    // please note that user can modify form and add update any unwanted properties to be updated
    $inputPost-&gt;checkboxActive(false);
    $inputPost-&gt;checkboxAsDraft(true);

    // we can remove any property data from object $inputPost before apply it to entity
    // it will not saved to database
    $inputPost-&gt;setSortOrder(null);

    $album1 = new Album($inputPost, $database);

    // insert to database
    $album1-&gt;insert();

    // insert or update
    $album1-&gt;save();

    // update
    // NoRecordFoundException if ID not found
    $album1-&gt;update();

    // convert to JSON
    $json = $album1-&gt;toString();
    // or
    $json = $album1 . "";

    // send to buffer output
    // automaticaly converted to string
    echo $album1;

    // find one by ID
    $album2 = new Album(null, $database);
    $album2-&gt;findOneByAlbumId("123456");

    // find multiple
    $album2 = new Album(null, $database);
    $albums = $album2-&gt;findByAdminCreate("USER1");
    $rows = $albums-&gt;getResult();
    foreach($rows as $albumSaved)
    {
        // $albumSaved is instance of Album

        // we can update data
        $albumSaved-&gt;setAdminEdit("USER1");
        $albumSaved-&gt;setTimeEdit(date('Y-m-d H:i:s'));

        // this value will not be saved to database because has no column
        $albumSaved-&gt;setAnyValue("ANY VALUE");

        $albumSaved-&gt;update();
    }

}
catch(Exception $e)
{
    // do nothing
}
</code></pre>
<h3>Insert</h3>
<p>Insert new record</p>
<pre><code class="language-php">$album1 = new Album(null, $database);
$album1-&gt;setAlbumId("123456");
$album1-&gt;setName("Album 1");
$album1-&gt;setAdminCreate("USER1");
$album1-&gt;setDuration(300);
try
{
    $album-&gt;insert();
}
catch(Exception $e)
{
    error_log($e-&gt;getMessage());
}</code></pre>
<p>To insert with any column value <code>NULL</code></p>
<pre><code class="language-php">$album1 = new Album(null, $database);
$album1-&gt;setAlbumId("123456");
$album1-&gt;setName("Album 1");
$album1-&gt;setAdminCreate("USER1");
$album1-&gt;setDuration(300);
$album1-&gt;setReleaseDate(null);
$album1-&gt;setNumberOfSong(null);
try
{
    // releaseDate and numberOfSong will set to NULL
    $album-&gt;insert(true);
}
catch(Exception $e)
{
    error_log($e-&gt;getMessage());
}</code></pre>
<h3>Save</h3>
<p>Insert new record if not exists, otherwise update the record</p>
<pre><code class="language-php">$album1 = new Album(null, $database);
$album1-&gt;setAlbumId("123456");
$album1-&gt;setName("Album 1");
$album1-&gt;setAdminCreate("USER1");
$album1-&gt;setAdminEdit("USER1");
$album1-&gt;setDuration(300);
try
{
    $album-&gt;save();
}
catch(Exception $e)
{
    error_log($e-&gt;getMessage());
}</code></pre>
<p>Note: If operation is update, nonupdatable column will not be updated</p>
<h3>Update</h3>
<p>Update existing record</p>
<pre><code class="language-php">$album1 = new Album(null, $database);
$album1-&gt;setAlbumId("123456");
$album1-&gt;setName("Album 1");
$album1-&gt;setAdminEdit("USER1");
$album1-&gt;setDuration(300);
try
{
    $album-&gt;update();
}
catch(Exception $e)
{
    error_log($e-&gt;getMessage());
}</code></pre>
<p>To update any column value to <code>NULL</code></p>
<pre><code class="language-php">$album1 = new Album(null, $database);
$album1-&gt;setAlbumId("123456");
$album1-&gt;setName("Album 1");
$album1-&gt;setAdminEdit("USER1");
$album1-&gt;setDuration(300);
$album1-&gt;setReleaseDate(null);
$album1-&gt;setNumberOfSong(null);
try
{
    // releaseDate and numberOfSong will set to NULL
    $album-&gt;update(true);
}
catch(Exception $e)
{
    error_log($e-&gt;getMessage());
}</code></pre>
<h3>Select One By Specific Column</h3>
<pre><code class="language-php">$album1 = new Album(null, $database);
try
{
    $album1-&gt;findOneByAlbumId("123456");

    // to update the record

    // update begin
    $album1-&gt;setName("Album 1");
    $album1-&gt;setAdminEdit("USER1");
    $album1-&gt;setDuration(300);
    $album-&gt;update();
    // update end

    // to delete the record

    // delete begin
    $album-&gt;delete();
    // delete end
}
catch(Exception $e)
{
    error_log($e-&gt;getMessage());
}</code></pre>
<h3>Select One By Combination of Columns</h3>
<p>Logic <code>OR</code></p>
<pre><code class="language-php">$album1 = new Album(null, $database);
try
{
    $album1-&gt;findOneByAlbumIdOrNumbefOfSong("123456", 3);

    // to update the record

    // update begin
    $album1-&gt;setAdminEdit("USER1");
    $album1-&gt;setDuration(300);
    $album-&gt;update();
    // update end

    // to delete the record

    // delete begin
    $album-&gt;delete();
    // delete end
}
catch(Exception $e)
{
    error_log($e-&gt;getMessage());
}</code></pre>
<p>Logic <code>AND</code></p>
<pre><code class="language-php">$album1 = new Album(null, $database);
try
{
    $album1-&gt;findOneByAdminCreateAndNumbefOfSong("USER1", 3);

    // to update the record

    // update begin
    $album1-&gt;setAdminEdit("USER1");
    $album1-&gt;setDuration(300);
    $album-&gt;update();
    // update end

    // to delete the record

    // delete begin
    $album-&gt;delete();
    // delete end
}
catch(Exception $e)
{
    error_log($e-&gt;getMessage());
}</code></pre>
<h3>Select Multiple By Combination of Columns</h3>
<p>Logic <code>OR</code></p>
<pre><code class="language-php">$albumSelector = new Album(null, $database);
try
{
    $albums = $albumSelector-&gt;findByAlbumIdOrNumbefOfSong("123456", 3);

    $result = $albums-&gt;getResult();
    foreach($result as $album1)
    {
        // to update the record

        // update begin
        $album1-&gt;setAdminEdit("USER1");
        $album1-&gt;setDuration(300);
        $album-&gt;update();
        // update end

        // to delete the record

        // delete begin
        $album-&gt;delete();
        // delete end
    }
}
catch(Exception $e)
{
    error_log($e-&gt;getMessage());
}</code></pre>
<p>Logic <code>AND</code></p>
<pre><code class="language-php">$albumSelector = new Album(null, $database);
try
{
    $albums = $albumSelector-&gt;findOneByAdminCreateAndNumbefOfSong("USER1", 3);

    $result = $albums-&gt;getResult();
    foreach($result as $album1)
    {
        // to update the record

        // update begin
        $album1-&gt;setAdminEdit("USER1");
        $album1-&gt;setDuration(300);
        $album-&gt;update();
        // update end

        // to delete the record

        // delete begin
        $album-&gt;delete();
        // delete end
    }
}
catch(Exception $e)
{
    error_log($e-&gt;getMessage());
}</code></pre>
<h3>Find By Specification</h3>
<p>Real applications do not always use simple logic to filter database records. Complex logic cannot be done using just one method. MagicObject provides features to make searches more specific.</p>
<p><strong>Example 1</strong></p>
<pre><code class="language-php">$album = new Album(null, $database);
$rowData = array();
try
{
    $album-&gt;findOneByAlbumId($inputGet-&gt;getAlbumId());

    $sortable = new PicoSortable();
    $sort2 = new PicoSort('trackNumber', PicoSort::ORDER_TYPE_ASC);
    $sortable-&gt;addSortable($sort2);

    $spesification = new PicoSpecification();

    $predicate1 = new PicoPredicate();
    $predicate1-&gt;equals('albumId', $inputGet-&gt;getAlbumId());
    $spesification-&gt;addAnd($predicate1);

    $predicate2 = new PicoPredicate();
    $predicate2-&gt;equals('active', true);
    $spesification-&gt;addAnd($predicate2);

    // Up to this point we are still using albumId and active

    $pageData = $player-&gt;findAll($spesification, null, $sortable, true);
    $rowData = $pageData-&gt;getResult();
}
catch(Exception $e)
{
    error_log($e-&gt;getMessage());
}

if(!empty($rowData))
{
    foreach($rowData $album)
    {
        // do something here
        // $album is instanceof Album class
        // You can use all its features
    }
}</code></pre>
<p><strong>Example 2</strong></p>
<p>Album specification from <code>$_GET</code></p>
<pre><code class="language-php">
/**
 * Create album specification
 * @param PicoRequestBase $inputGet
 * @return PicoSpecification
 */
function createAlbumSpecification($inputGet)
{
    $spesification = new PicoSpecification();

    if($inputGet-&gt;getAlbumId() != "")
    {
        $predicate1 = new PicoPredicate();
        $predicate1-&gt;equals('albumId', $inputGet-&gt;getAlbumId());
        $spesification-&gt;addAnd($predicate1);
    }

    if($inputGet-&gt;getName() != "" || $inputGet-&gt;getTitle() != "")
    {
        $spesificationTitle = new PicoSpecification();

        if($inputGet-&gt;getName() != "")
        {
            $predicate1 = new PicoPredicate();
            $predicate1-&gt;like('name', PicoPredicate::generateCenterLike($inputGet-&gt;getName()));
            $spesificationTitle-&gt;addOr($predicate1);

            $predicate2 = new PicoPredicate();
            $predicate2-&gt;like('title', PicoPredicate::generateCenterLike($inputGet-&gt;getName()));
            $spesificationTitle-&gt;addOr($predicate2);
        }
        if($inputGet-&gt;getTitle() != "")
        {
            $predicate3 = new PicoPredicate();
            $predicate3-&gt;like('name', PicoPredicate::generateCenterLike($inputGet-&gt;getTitle()));
            $spesificationTitle-&gt;addOr($predicate3);

            $predicate4 = new PicoPredicate();
            $predicate4-&gt;like('title', PicoPredicate::generateCenterLike($inputGet-&gt;getTitle()));
            $spesificationTitle-&gt;addOr($predicate4);
        }

        $spesification-&gt;addAnd($spesificationTitle);
    }

    if($inputGet-&gt;getProducerId() != "")
    {
        $predicate1 = new PicoPredicate();
        $predicate1-&gt;equals('producerId', $inputGet-&gt;getProducerId());
        $spesification-&gt;addAnd($predicate1);
    }

    return $spesification;
}

$album = new Album(null, $database);
$rowData = array();
try
{
    $album-&gt;findOneByAlbumId($inputGet-&gt;getAlbumId());

    $sortable = new PicoSortable();
    $sort2 = new PicoSort('albumId', PicoSort::ORDER_TYPE_ASC);
    $sortable-&gt;addSortable($sort2);

    $spesification = createAlbumSpecification(new InputGet());

    $pageData = $player-&gt;findAll($spesification, null, $sortable, true);
    $rowData = $pageData-&gt;getResult();
}
catch(Exception $e)
{
    error_log($e-&gt;getMessage());
}

if(!empty($rowData))
{
    foreach($rowData $album)
    {
        // do something here
        // $album is instanceof Album class
        // You can use all its features
    }
}</code></pre>
<p><strong>Example 3</strong></p>
<p>Song specification from <code>$_GET</code></p>
<pre><code class="language-php">&lt;?php

namespace MusicProductionManager\Utility;

use MagicObject\Database\PicoPredicate;
use MagicObject\Database\PicoSpecification;
use MagicObject\Request\PicoRequestBase;

/**
 * Specification utility
 */
class SpecificationUtil
{
    /**
     * Create MIDI specification
     * @param PicoRequestBase $name
     * @return PicoSpecification
     */
    public static function createMidiSpecification($inputGet)
    {
        $spesification = new PicoSpecification();

        if($inputGet-&gt;getMidiId() != "")
        {
            $predicate1 = new PicoPredicate();
            $predicate1-&gt;equals('midiId', $inputGet-&gt;getMidiId());
            $spesification-&gt;addAnd($predicate1);
        }

        if($inputGet-&gt;getGenreId() != "")
        {
            $predicate1 = new PicoPredicate();
            $predicate1-&gt;equals('genreId', $inputGet-&gt;getGenreId());
            $spesification-&gt;addAnd($predicate1);
        }

        if($inputGet-&gt;getAlbumId() != "")
        {
            $predicate1 = new PicoPredicate();
            $predicate1-&gt;equals('albumId', $inputGet-&gt;getAlbumId());
            $spesification-&gt;addAnd($predicate1);
        }

        if($inputGet-&gt;getName() != "")
        {
            $predicate1 = new PicoPredicate();
            $predicate1-&gt;like('name', PicoPredicate::generateCenterLike($inputGet-&gt;getName()));
            $spesification-&gt;addAnd($predicate1);
        }

        if($inputGet-&gt;getTitle() != "")
        {
            $predicate1 = new PicoPredicate();
            $predicate1-&gt;like('title', PicoPredicate::generateCenterLike($inputGet-&gt;getTitle()));
            $spesification-&gt;addAnd($predicate1);
        }

        if($inputGet-&gt;getArtistVocalistId() != "")
        {
            $predicate1 = new PicoPredicate();
            $predicate1-&gt;equals('artistVocalId', $inputGet-&gt;getArtistVocalistId());
            $spesification-&gt;addAnd($predicate1);
        }

        return $spesification;
    }

    /**
     * Create Song specification
     * @param PicoRequestBase $inputGet
     * $@param array|null $additional
     * @return PicoSpecification
     */
    public static function createSongSpecification($inputGet, $additional = null) //NOSONAR
    {
        $spesification = new PicoSpecification();

        if($inputGet-&gt;getSongId() != "")
        {
            $predicate1 = new PicoPredicate();
            $predicate1-&gt;equals('songId', $inputGet-&gt;getSongId());
            $spesification-&gt;addAnd($predicate1);
        }

        if($inputGet-&gt;getGenreId() != "")
        {
            $predicate1 = new PicoPredicate();
            $predicate1-&gt;equals('genreId', $inputGet-&gt;getGenreId());
            $spesification-&gt;addAnd($predicate1);
        }

        if($inputGet-&gt;getAlbumId() != "")
        {
            $predicate1 = new PicoPredicate();
            $predicate1-&gt;equals('albumId', $inputGet-&gt;getAlbumId());
            $spesification-&gt;addAnd($predicate1);
        }

        if($inputGet-&gt;getProducerId() != "")
        {
            $predicate1 = new PicoPredicate();
            $predicate1-&gt;equals('producerId', $inputGet-&gt;getProducerId());
            $spesification-&gt;addAnd($predicate1);
        }

        if($inputGet-&gt;getProducerName() != "")
        {
            $predicate1 = new PicoPredicate();
            $predicate1-&gt;like('producer.name', PicoPredicate::generateCenterLike($inputGet-&gt;getProducerName()));
            $spesification-&gt;addAnd($predicate1);
        }

        if($inputGet-&gt;getName() != "" || $inputGet-&gt;getTitle() != "")
        {
            $spesificationTitle = new PicoSpecification();

            if($inputGet-&gt;getName() != "")
            {
                $predicate1 = new PicoPredicate();
                $predicate1-&gt;like('name', PicoPredicate::generateCenterLike($inputGet-&gt;getName()));
                $spesificationTitle-&gt;addOr($predicate1);

                $predicate2 = new PicoPredicate();
                $predicate2-&gt;like('title', PicoPredicate::generateCenterLike($inputGet-&gt;getName()));
                $spesificationTitle-&gt;addOr($predicate2);
            }
            if($inputGet-&gt;getTitle() != "")
            {
                $predicate3 = new PicoPredicate();
                $predicate3-&gt;like('name', PicoPredicate::generateCenterLike($inputGet-&gt;getTitle()));
                $spesificationTitle-&gt;addOr($predicate3);

                $predicate4 = new PicoPredicate();
                $predicate4-&gt;like('title', PicoPredicate::generateCenterLike($inputGet-&gt;getTitle()));
                $spesificationTitle-&gt;addOr($predicate4);
            }

            $spesification-&gt;addAnd($spesificationTitle);
        }

        if($inputGet-&gt;getSubtitle() != "")
        {
            $predicate1 = new PicoPredicate();
            $predicate1-&gt;like('subtitle', PicoPredicate::generateCenterLike($inputGet-&gt;getSubtitle()));
            $spesification-&gt;addAnd($predicate1);
        }

        if($inputGet-&gt;getVocalist() != "")
        {
            $predicate1 = new PicoPredicate();
            $predicate1-&gt;equals('artistVocalist', $inputGet-&gt;getVocalist());
            $spesification-&gt;addAnd($predicate1);
        }

        if($inputGet-&gt;getVocalistName() != "")
        {
            $predicate1 = new PicoPredicate();
            $predicate1-&gt;like('vocalist.name', PicoPredicate::generateCenterLike($inputGet-&gt;getVocalistName()));
            $spesification-&gt;addAnd($predicate1);
        }

        if($inputGet-&gt;getComposer() != "")
        {
            $predicate1 = new PicoPredicate();
            $predicate1-&gt;equals('artistComposer', $inputGet-&gt;getComposer());
            $spesification-&gt;addAnd($predicate1);
        }

        if($inputGet-&gt;getComposerName() != "")
        {
            $predicate1 = new PicoPredicate();
            $predicate1-&gt;like('composer.name', PicoPredicate::generateCenterLike($inputGet-&gt;getComposerName()));
            $spesification-&gt;addAnd($predicate1);
        }

        if($inputGet-&gt;getArranger() != "")
        {
            $predicate1 = new PicoPredicate();
            $predicate1-&gt;equals('artistArranger', $inputGet-&gt;getArranger());
            $spesification-&gt;addAnd($predicate1);
        }

        if($inputGet-&gt;getArrangerName() != "")
        {
            $predicate1 = new PicoPredicate();
            $predicate1-&gt;like('arranger.name', PicoPredicate::generateCenterLike($inputGet-&gt;getArrangerName()));
            $spesification-&gt;addAnd($predicate1);
        }

        if($inputGet-&gt;getSubtitleComplete() != "")
        {
            $predicate1 = new PicoPredicate();
            $predicate1-&gt;equals('subtitleComplete', $inputGet-&gt;getSubtitleComplete());
            $spesification-&gt;addAnd($predicate1);
        }

        if($inputGet-&gt;getVocal() != "")
        {
            $predicate1 = new PicoPredicate();
            $predicate1-&gt;equals('vocal', $inputGet-&gt;getVocal());
            $spesification-&gt;addAnd($predicate1);
        }

        if($inputGet-&gt;getActive() != "")
        {
            $predicate1 = new PicoPredicate();
            $predicate1-&gt;equals('active', $inputGet-&gt;getActive());
            $spesification-&gt;addAnd($predicate1);
        }

        if(isset($additional) &amp;&amp; is_array($additional))
        {
            foreach($additional as $key=&gt;$value)
            {
                $predicate2 = new PicoPredicate();          
                $predicate2-&gt;equals($key, $value);
                $spesification-&gt;addAnd($predicate2);
            }
        }

        return $spesification;
    }

    /**
     * Create Song specification
     * @param PicoRequestBase $inputGet
     * $@param array|null $additional
     * @return PicoSpecification
     */
    public static function createReferenceSpecification($inputGet, $additional = null)
    {
        $spesification = new PicoSpecification();

        if($inputGet-&gt;getReferenceId() != "")
        {
            $predicate1 = new PicoPredicate();
            $predicate1-&gt;equals('referenceId', $inputGet-&gt;getReferenceId());
            $spesification-&gt;addAnd($predicate1);
        }

        if($inputGet-&gt;getGenreId() != "")
        {
            $predicate1 = new PicoPredicate();
            $predicate1-&gt;equals('genreId', $inputGet-&gt;getGenreId());
            $spesification-&gt;addAnd($predicate1);
        }

        if($inputGet-&gt;getAlbum() != "")
        {
            $predicate1 = new PicoPredicate();
            $predicate1-&gt;equals('album', $inputGet-&gt;getAlbum());
            $spesification-&gt;addAnd($predicate1);
        }

        if($inputGet-&gt;getTitle() != "")
        {
            $predicate1 = new PicoPredicate();
            $predicate1-&gt;like('title', PicoPredicate::generateCenterLike($inputGet-&gt;getTitle()));
            $spesification-&gt;addAnd($predicate1);
        }

        if($inputGet-&gt;getArtistId() != "")
        {
            $predicate1 = new PicoPredicate();
            $predicate1-&gt;equals('artistId', $inputGet-&gt;getArtistId());
            $spesification-&gt;addAnd($predicate1);
        }

        if($inputGet-&gt;getActive() != "")
        {
            $predicate1 = new PicoPredicate();
            $predicate1-&gt;equals('active', $inputGet-&gt;getActive());
            $spesification-&gt;addAnd($predicate1);
        }

        if(isset($additional) &amp;&amp; is_array($additional))
        {
            foreach($additional as $key=&gt;$value)
            {
                $predicate2 = new PicoPredicate();          
                $predicate2-&gt;equals($key, $value);
                $spesification-&gt;addAnd($predicate2);
            }
        }

        return $spesification;
    }

    /**
     * Create Song specification
     * @param PicoRequestBase $inputGet
     * $@param array|null $additional
     * @return PicoSpecification
     */
    public static function createSongDraftSpecification($inputGet, $additional = null) //NOSONAR
    {
        $spesification = new PicoSpecification();

        if($inputGet-&gt;getSongId() != "")
        {
            $predicate1 = new PicoPredicate();
            $predicate1-&gt;equals('songId', $inputGet-&gt;getSongId());
            $spesification-&gt;addAnd($predicate1);
        }

        if($inputGet-&gt;getName() != "" || $inputGet-&gt;getTitle() != "")
        {
            $spesificationTitle = new PicoSpecification();

            if($inputGet-&gt;getName() != "")
            {
                $predicate1 = new PicoPredicate();
                $predicate1-&gt;like('name', PicoPredicate::generateCenterLike($inputGet-&gt;getName()));
                $spesificationTitle-&gt;addOr($predicate1);

                $predicate2 = new PicoPredicate();
                $predicate2-&gt;like('title', PicoPredicate::generateCenterLike($inputGet-&gt;getName()));
                $spesificationTitle-&gt;addOr($predicate2);
            }
            if($inputGet-&gt;getTitle() != "")
            {
                $predicate3 = new PicoPredicate();
                $predicate3-&gt;like('name', PicoPredicate::generateCenterLike($inputGet-&gt;getTitle()));
                $spesificationTitle-&gt;addOr($predicate3);

                $predicate4 = new PicoPredicate();
                $predicate4-&gt;like('title', PicoPredicate::generateCenterLike($inputGet-&gt;getTitle()));
                $spesificationTitle-&gt;addOr($predicate4);
            }

            $spesification-&gt;addAnd($spesificationTitle);
        }

        if($inputGet-&gt;getArtistId() != "")
        {
            $predicate1 = new PicoPredicate();
            $predicate1-&gt;equals('artistId', $inputGet-&gt;getArtistId());
            $spesification-&gt;addAnd($predicate1);
        }

        if($inputGet-&gt;getActive() != "")
        {
            $predicate1 = new PicoPredicate();
            $predicate1-&gt;equals('active', $inputGet-&gt;getActive());
            $spesification-&gt;addAnd($predicate1);
        }

        if($inputGet-&gt;getFrom() != "" &amp;&amp; $inputGet-&gt;getTo() != "")
        {
            $to = $inputGet-&gt;getTo();
            if(strlen($to) &lt; 11)
            {
                $to = $to . " 23:59:59";
            }
            $predicate1 = new PicoPredicate();
            $predicate1-&gt;greaterThanOrEquals('timeCreate', $inputGet-&gt;getFrom());
            $spesification-&gt;addAnd($predicate1);

            $predicate2 = new PicoPredicate();
            $predicate2-&gt;lessThanOrEquals('timeCreate', $to);
            $spesification-&gt;addAnd($predicate2);
        }
        else if($inputGet-&gt;getFrom())
        {
            $predicate1 = new PicoPredicate();
            $predicate1-&gt;greaterThanOrEquals('timeCreate', $inputGet-&gt;getFrom());
            $spesification-&gt;addAnd($predicate1);
        }
        else if($inputGet-&gt;getTo() != "")
        {
            $to = $inputGet-&gt;getTo();
            if(strlen($to) &lt; 11)
            {
                $to = $to . " 23:59:59";
            }
            $predicate2 = new PicoPredicate();
            $predicate2-&gt;lessThanOrEquals('timeCreate', $to);
            $spesification-&gt;addAnd($predicate2);
        }

        if($inputGet-&gt;getLyric() != "")
        {
            $predicate1 = new PicoPredicate();
            $predicate1-&gt;like('lyric', PicoPredicate::generateCenterLike($inputGet-&gt;getLyric()));
            $spesification-&gt;addAnd($predicate1);
        }

        if(isset($additional) &amp;&amp; is_array($additional))
        {
            foreach($additional as $key=&gt;$value)
            {
                $predicate2 = new PicoPredicate();          
                $predicate2-&gt;equals($key, $value);
                $spesification-&gt;addAnd($predicate2);
            }
        }

        return $spesification;
    }

    /**
     * Create album specification
     * @param PicoRequestBase $inputGet
     * @return PicoSpecification
     */
    public static function createAlbumSpecification($inputGet)
    {
        $spesification = new PicoSpecification();

        if($inputGet-&gt;getAlbumId() != "")
        {
            $predicate1 = new PicoPredicate();
            $predicate1-&gt;equals('albumId', $inputGet-&gt;getAlbumId());
            $spesification-&gt;addAnd($predicate1);
        }

        if($inputGet-&gt;getName() != "" || $inputGet-&gt;getTitle() != "")
        {
            $spesificationTitle = new PicoSpecification();

            if($inputGet-&gt;getName() != "")
            {
                $predicate1 = new PicoPredicate();
                $predicate1-&gt;like('name', PicoPredicate::generateCenterLike($inputGet-&gt;getName()));
                $spesificationTitle-&gt;addOr($predicate1);

                $predicate2 = new PicoPredicate();
                $predicate2-&gt;like('title', PicoPredicate::generateCenterLike($inputGet-&gt;getName()));
                $spesificationTitle-&gt;addOr($predicate2);
            }
            if($inputGet-&gt;getTitle() != "")
            {
                $predicate3 = new PicoPredicate();
                $predicate3-&gt;like('name', PicoPredicate::generateCenterLike($inputGet-&gt;getTitle()));
                $spesificationTitle-&gt;addOr($predicate3);

                $predicate4 = new PicoPredicate();
                $predicate4-&gt;like('title', PicoPredicate::generateCenterLike($inputGet-&gt;getTitle()));
                $spesificationTitle-&gt;addOr($predicate4);
            }

            $spesification-&gt;addAnd($spesificationTitle);
        }

        if($inputGet-&gt;getProducerId() != "")
        {
            $predicate1 = new PicoPredicate();
            $predicate1-&gt;equals('producerId', $inputGet-&gt;getProducerId());
            $spesification-&gt;addAnd($predicate1);
        }

        return $spesification;
    }

    /**
     * Create genre specification
     * @param PicoRequestBase $name
     * @return PicoSpecification
     */
    public static function createGenreSpecification($inputGet)
    {
        $spesification = new PicoSpecification();

        if($inputGet-&gt;getGenreId() != "")
        {
            $predicate1 = new PicoPredicate();
            $predicate1-&gt;equals('genreId', $inputGet-&gt;getGenreId());
            $spesification-&gt;addAnd($predicate1);
        }

        if($inputGet-&gt;getName() != "")
        {
            $predicate1 = new PicoPredicate();
            $predicate1-&gt;like('name', PicoPredicate::generateCenterLike($inputGet-&gt;getName()));
            $spesification-&gt;addAnd($predicate1);
        }

        return $spesification;
    }

    /**
     * Create user type specification
     * @param PicoRequestBase $name
     * @return PicoSpecification
     */
    public static function createUserTypeSpecification($inputGet)
    {
        $spesification = new PicoSpecification();

        if($inputGet-&gt;getUserTypeId() != "")
        {
            $predicate1 = new PicoPredicate();
            $predicate1-&gt;equals('userTypeId', $inputGet-&gt;getUserTypeId());
            $spesification-&gt;addAnd($predicate1);
        }

        if($inputGet-&gt;getName() != "")
        {
            $predicate1 = new PicoPredicate();
            $predicate1-&gt;like('name', PicoPredicate::generateCenterLike($inputGet-&gt;getName()));
            $spesification-&gt;addAnd($predicate1);
        }

        return $spesification;
    }

    /**
     * Create artist specification
     * @param PicoRequestBase $name
     * @return PicoSpecification
     */
    public static function createArtistSpecification($inputGet)
    {
        $spesification = new PicoSpecification();

        if($inputGet-&gt;getArtistId() != "")
        {
            $predicate1 = new PicoPredicate();
            $predicate1-&gt;equals('artistId', $inputGet-&gt;getArtistId());
            $spesification-&gt;addAnd($predicate1);
        }

        if($inputGet-&gt;getName() != "")
        {
            $predicate1 = new PicoPredicate();
            $predicate1-&gt;like('name', PicoPredicate::generateCenterLike($inputGet-&gt;getName()));
            $spesification-&gt;addAnd($predicate1);
        }

        return $spesification;
    }

    /**
     * Create user specification
     * @param PicoRequestBase $name
     * @return PicoSpecification
     */
    public static function createUserSpecification($inputGet)
    {
        $spesification = new PicoSpecification();

        if($inputGet-&gt;getUserId() != "")
        {
            $predicate1 = new PicoPredicate();
            $predicate1-&gt;equals('userId', $inputGet-&gt;getUserId());
            $spesification-&gt;addAnd($predicate1);
        }

        if($inputGet-&gt;getName() != "")
        {
            $predicate1 = new PicoPredicate();
            $predicate1-&gt;like('name', PicoPredicate::generateCenterLike($inputGet-&gt;getName()));
            $spesification-&gt;addAnd($predicate1);
        }

        if($inputGet-&gt;getUsername() != "")
        {
            $predicate1 = new PicoPredicate();
            $predicate1-&gt;like('username', PicoPredicate::generateCenterLike($inputGet-&gt;getUsername()));
            $spesification-&gt;addAnd($predicate1);
        }

        if($inputGet-&gt;getEmail() != "")
        {
            $predicate1 = new PicoPredicate();
            $predicate1-&gt;like('email', PicoPredicate::generateCenterLike($inputGet-&gt;getEmail()));
            $spesification-&gt;addAnd($predicate1);
        }

        return $spesification;
    }
}</code></pre>
<p>Implementation</p>
<pre><code class="language-php">$orderMap = array(
    'name'=&gt;'name', 
    'title'=&gt;'title', 
    'rating'=&gt;'rating',
    'albumId'=&gt;'albumId', 
    'album'=&gt;'albumId', 
    'trackNumber'=&gt;'trackNumber',
    'genreId'=&gt;'genreId', 
    'genre'=&gt;'genreId',
    'producerId'=&gt;'producerId',
    'artistVocalId'=&gt;'artistVocalId',
    'artistVocalist'=&gt;'artistVocalId',
    'artistComposer'=&gt;'artistComposer',
    'artistArranger'=&gt;'artistArranger',
    'duration'=&gt;'duration',
    'subtitleComplete'=&gt;'subtitleComplete',
    'vocal'=&gt;'vocal',
    'active'=&gt;'active'
);
$defaultOrderBy = 'albumId';
$defaultOrderType = 'desc';
$pagination = new PicoPagination($cfg-&gt;getResultPerPage());

$spesification = SpecificationUtil::createSongSpecification($inputGet);

if($pagination-&gt;getOrderBy() == '')
{
    $sortable = new PicoSortable();
    $sort1 = new PicoSort('albumId', PicoSort::ORDER_TYPE_DESC);
    $sortable-&gt;addSortable($sort1);
    $sort2 = new PicoSort('trackNumber', PicoSort::ORDER_TYPE_ASC);
    $sortable-&gt;addSortable($sort2);
}
else
{
    $sortable = new PicoSortable($pagination-&gt;getOrderBy($orderMap, $defaultOrderBy), $pagination-&gt;getOrderType($defaultOrderType));
}

$pagable = new PicoPagable(new PicoPage($pagination-&gt;getCurrentPage(), $pagination-&gt;getPageSize()), $sortable);

$songEntity = new Song(null, $database);
$pageData = $songEntity-&gt;findAll($spesification, $pagable, $sortable, true);

$rowData = $pageData-&gt;getResult();

if(!empty($rowData))
{
    foreach($rowData $song)
    {
        // do something here
        // $song is instanceof Song class
        // You can use all its features
    }
}
</code></pre>
<h3>Delete</h3>
<p>To delete the database record, just invoke the <code>delete</code> method of the entity.</p>
<p><strong>Example 1</strong></p>
<p>Delete one record without select first</p>
<pre><code class="language-php">$album1 = new Album(null, $database);
try
{
    $album1-&gt;deleteOneByAlbumId("123456");
}
catch(Exception $e)
{
    error_log($e-&gt;getMessage());
}</code></pre>
<p><strong>Example 2</strong></p>
<p>Delete multiple records without select first</p>
<pre><code class="language-php">$album1 = new Album(null, $database);
try
{
    $deleted = $album1-&gt;deleteByAdminCreate("123456");
}
catch(Exception $e)
{
    error_log($e-&gt;getMessage());
}</code></pre>
<p><strong>Example 3</strong></p>
<p>Delete one record with select first</p>
<pre><code class="language-php">$album1 = new Album(null, $database);
try
{
    $album1-&gt;findOneByAlbumId("123456");
    $album1-&gt;delete();
}
catch(Exception $e)
{
    error_log($e-&gt;getMessage());
}</code></pre>
<p><strong>Example 4</strong></p>
<p>Delete multiple records with select first</p>
<pre><code class="language-php">$album1 = new Album(null, $database);
try
{
    $pageData = $album1-&gt;findByAdminCreate("123456");
    foreach($pageData-&gt;getResult() as $album)
    {
        // we can add logic before delete the record
        $album-&gt;delete();
    }
}
catch(Exception $e)
{
    error_log($e-&gt;getMessage());
}</code></pre>
<h3>Join the Entity</h3>
<p>Users can join entities with other entities. This joining can be done in stages, not limited to just two levels. Please note that using multi-level joins will reduce application performance and waste resource usage. Consider denormalizing the database for applications with large amounts of data.</p>
<p>The following example is a two-level entity join. Users can expand it into three levels, for example by joining the <code>Album</code> or <code>Artist</code> entity with another new entity.</p>
<p>WARNING:
Don't join entities recursively because it will make the system carry out an endless process.</p>
<p><strong>EntitySong</strong></p>
<pre><code class="language-php">&lt;?php

namespace MusicProductionManager\Data\Entity;

use MagicObject\MagicObject;

/**
 * @Entity
 * @JSON(property-naming-strategy=SNAKE_CASE)
 * @Table(name="song")
 */
class EntitySong extends MagicObject
{
    /**
     * Song ID
     * 
     * @Id
     * @GeneratedValue(strategy=GenerationType.UUID)
     * @NotNull
     * @Column(name="song_id", type="varchar(50)", length=50, nullable=false)
     * @Label(content="Song ID")
     * @var string
     */
    protected $songId;

    /**
     * Random Song ID
     * 
     * @Column(name="random_song_id", type="varchar(50)", length=50, nullable=true)
     * @Label(content="Random Song ID")
     * @var string
     */
    protected $randomSongId;

    /**
     * Name
     * 
     * @Column(name="name", type="varchar(100)", length=100, nullable=true)
     * @Label(content="Name")
     * @var string
     */
    protected $name;

    /**
     * Title
     * 
     * @Column(name="title", type="text", nullable=true)
     * @Label(content="Title")
     * @var string
     */
    protected $title;

    /**
     * Album ID
     * 
     * @Column(name="album_id", type="varchar(50)", length=50, nullable=true)
     * @Label(content="Album ID")
     * @var string
     */
    protected $albumId;

    /**
     * Album
     * @JoinColumn(name="album_id")
     * @Label(content="Album")
     * @var Album
     */
    protected $album;

    /**
     * Track Number
     * 
     * @Column(name="track_number", type="int(11)", length=11, nullable=true)
     * @Label(content="Track Number")
     * @var integer
     */
    protected $trackNumber;

    /**
     * Producer ID
     * 
     * @Column(name="producer_id", type="varchar(40)", length=40, nullable=true)
     * @Label(content="Producer ID")
     * @var string
     */
    protected $producerId;

    /**
     * Producer
     * 
     * @JoinColumn(name="producer_id")
     * @Label(content="Producer")
     * @var Producer
     */
    protected $producer;

    /**
     * Artist Vocal
     * 
     * @Column(name="artist_vocalist", type="varchar(50)", length=50, nullable=true)
     * @Label(content="Artist Vocal")
     * @var string
     */
    protected $artistVocalist;

    /**
     * Artist Vocal
     * 
     * @JoinColumn(name="artist_vocalist")
     * @Label(content="Artist Vocal")
     * @var Artist
     */
    protected $vocalist;

    /**
     * Artist Composer
     * 
     * @Column(name="artist_composer", type="varchar(50)", length=50, nullable=true)
     * @Label(content="Artist Composer")
     * @var string
     */
    protected $artistComposer;

    /**
     * Artist Composer
     * 
     * @JoinColumn(name="artist_composer")
     * @Label(content="Artist Composer")
     * @var Artist
     */
    protected $composer;

    /**
     * Artist Arranger
     * 
     * @Column(name="artist_arranger", type="varchar(50)", length=50, nullable=true)
     * @Label(content="Artist Arranger")
     * @var string
     */
    protected $artistArranger;

    /**
     * Artist Arranger
     * 
     * @JoinColumn(name="artist_arranger")
     * @Label(content="Artist Arranger")
     * @var Artist
     */
    protected $arranger;

    /**
     * File Path
     * 
     * @Column(name="file_path", type="text", nullable=true)
     * @Label(content="File Path")
     * @var string
     */
    protected $filePath;

    /**
     * File Name
     * 
     * @Column(name="file_name", type="varchar(100)", length=100, nullable=true)
     * @Label(content="File Name")
     * @var string
     */
    protected $fileName;

    /**
     * File Type
     * 
     * @Column(name="file_type", type="varchar(100)", length=100, nullable=true)
     * @Label(content="File Type")
     * @var string
     */
    protected $fileType;

    /**
     * File Extension
     * 
     * @Column(name="file_extension", type="varchar(20)", length=20, nullable=true)
     * @Label(content="File Extension")
     * @var string
     */
    protected $fileExtension;

    /**
     * File Size
     * 
     * @Column(name="file_size", type="bigint(20)", length=20, nullable=true)
     * @Label(content="File Size")
     * @var integer
     */
    protected $fileSize;

    /**
     * File Md5
     * 
     * @Column(name="file_md5", type="varchar(32)", length=32, nullable=true)
     * @Label(content="File Md5")
     * @var string
     */
    protected $fileMd5;

    /**
     * File Upload Time
     * 
     * @Column(name="file_upload_time", type="timestamp", length=19, nullable=true)
     * @Label(content="File Upload Time")
     * @var string
     */
    protected $fileUploadTime;

    /**
     * First Upload Time
     * 
     * @Column(name="first_upload_time", type="timestamp", length=19, nullable=true)
     * @Label(content="First Upload Time")
     * @var string
     */
    protected $firstUploadTime;

    /**
     * Last Upload Time
     * 
     * @Column(name="last_upload_time", type="timestamp", length=19, nullable=true)
     * @Label(content="Last Upload Time")
     * @var string
     */
    protected $lastUploadTime;

    /**
     * File Path Midi
     * 
     * @Column(name="file_path_midi", type="text", nullable=true)
     * @Label(content="File Path Midi")
     * @var string
     */
    protected $filePathMidi;

    /**
     * Last Upload Time Midi
     * 
     * @Column(name="last_upload_time_midi", type="timestamp", length=19, nullable=true)
     * @Label(content="Last Upload Time Midi")
     * @var string
     */
    protected $lastUploadTimeMidi;

    /**
     * File Path Xml
     * 
     * @Column(name="file_path_xml", type="text", nullable=true)
     * @Label(content="File Path Xml")
     * @var string
     */
    protected $filePathXml;

    /**
     * Last Upload Time Xml
     * 
     * @Column(name="last_upload_time_xml", type="timestamp", length=19, nullable=true)
     * @Label(content="Last Upload Time Xml")
     * @var string
     */
    protected $lastUploadTimeXml;

    /**
     * File Path Pdf
     * 
     * @Column(name="file_path_pdf", type="text", nullable=true)
     * @Label(content="File Path Pdf")
     * @var string
     */
    protected $filePathPdf;

    /**
     * Last Upload Time Pdf
     * 
     * @Column(name="last_upload_time_pdf", type="timestamp", length=19, nullable=true)
     * @Label(content="Last Upload Time Pdf")
     * @var string
     */
    protected $lastUploadTimePdf;

    /**
     * Duration
     * 
     * @Column(name="duration", type="float", nullable=true)
     * @Label(content="Duration")
     * @var double
     */
    protected $duration;

    /**
     * Genre ID
     * 
     * @Column(name="genre_id", type="varchar(50)", length=50, nullable=true)
     * @Label(content="Genre ID")
     * @var string
     */
    protected $genreId;

    /**
     * Genre ID
     * 
     * @JoinColumn(name="genre_id")
     * @Label(content="Genre ID")
     * @var Genre
     */
    protected $genre;

    /**
     * Bpm
     * 
     * @Column(name="bpm", type="float", nullable=true)
     * @Label(content="Bpm")
     * @var double
     */
    protected $bpm;

    /**
     * Time Signature
     * 
     * @Column(name="time_signature", type="varchar(40)", length=40, nullable=true)
     * @Label(content="Time Signature")
     * @var string
     */
    protected $timeSignature;

    /**
     * Subtitle
     * 
     * @Column(name="subtitle", type="longtext", nullable=true)
     * @Label(content="Subtitle")
     * @var string
     */
    protected $subtitle;

    /**
     * Subtitle Complete
     * 
     * @Column(name="subtitle_complete", type="tinyint(1)", length=1, nullable=true)
     * @var boolean
     */
    protected $subtitleComplete;

    /**
     * Lyric Midi
     * 
     * @Column(name="lyric_midi", type="longtext", nullable=true)
     * @Label(content="Lyric Midi")
     * @var string
     */
    protected $lyricMidi;

    /**
     * Lyric Midi Raw
     * 
     * @Column(name="lyric_midi_raw", type="longtext", nullable=true)
     * @Label(content="Lyric Midi Raw")
     * @var string
     */
    protected $lyricMidiRaw;

    /**
     * Vocal Guide
     * 
     * @Column(name="vocal_guide", type="longtext", nullable=true)
     * @Label(content="Vocal Guide")
     * @var string
     */
    protected $vocalGuide;

    /**
     * Vocal
     * 
     * @Column(name="vocal", type="tinyint(1)", length=1, nullable=true)
     * @var boolean
     */
    protected $vocal;

    /**
     * Instrument
     * 
     * @Column(name="instrument", type="longtext", nullable=true)
     * @Label(content="Instrument")
     * @var string
     */
    protected $instrument;

    /**
     * Midi Vocal Channel
     * 
     * @Column(name="midi_vocal_channel", type="int(11)", length=11, nullable=true)
     * @Label(content="Midi Vocal Channel")
     * @var integer
     */
    protected $midiVocalChannel;

    /**
     * Rating
     * 
     * @Column(name="rating", type="float", nullable=true)
     * @Label(content="Rating")
     * @var double
     */
    protected $rating;

    /**
     * Comment
     * 
     * @Column(name="comment", type="longtext", nullable=true)
     * @Label(content="Comment")
     * @var string
     */
    protected $comment;

    /**
     * Image Path
     * 
     * @Column(name="image_path", type="text", nullable=true)
     * @Label(content="Image Path")
     * @var string
     */
    protected $imagePath;

    /**
     * Last Upload Time Image
     * 
     * @Column(name="last_upload_time_image", type="timestamp", length=19, nullable=true)
     * @Label(content="Last Upload Time Image")
     * @var string
     */
    protected $lastUploadTimeImage;

    /**
     * Time Create
     * 
     * @Column(name="time_create", type="timestamp", length=19, nullable=true, updatable=false)
     * @Label(content="Time Create")
     * @var string
     */
    protected $timeCreate;

    /**
     * Time Edit
     * 
     * @Column(name="time_edit", type="timestamp", length=19, nullable=true)
     * @Label(content="Time Edit")
     * @var string
     */
    protected $timeEdit;

    /**
     * IP Create
     * 
     * @Column(name="ip_create", type="varchar(50)", length=50, nullable=true, updatable=false)
     * @Label(content="IP Create")
     * @var string
     */
    protected $ipCreate;

    /**
     * IP Edit
     * 
     * @Column(name="ip_edit", type="varchar(50)", length=50, nullable=true)
     * @Label(content="IP Edit")
     * @var string
     */
    protected $ipEdit;

    /**
     * Admin Create
     * 
     * @Column(name="admin_create", type="varchar(50)", length=50, nullable=true, updatable=false)
     * @Label(content="Admin Create")
     * @var string
     */
    protected $adminCreate;

    /**
     * Admin Edit
     * 
     * @Column(name="admin_edit", type="varchar(50)", length=50, nullable=true)
     * @Label(content="Admin Edit")
     * @var string
     */
    protected $adminEdit;

    /**
     * Active
     * 
     * @Column(name="active", type="tinyint(1)", length=1, default_value="1", nullable=true)
     * @DefaultColumn(value="1")
     * @var boolean
     */
    protected $active;
}</code></pre>
<p><strong>Album</strong></p>
<pre><code class="language-php">&lt;?php

namespace MusicProductionManager\Data\Entity;

use MagicObject\MagicObject;

/**
 * @Entity
 * @JSON(property-naming-strategy=SNAKE_CASE)
 * @Table(name="album")
 */
class Album extends MagicObject
{
    /**
     * Album ID
     * 
     * @Id
     * @GeneratedValue(strategy=GenerationType.UUID)
     * @NotNull
     * @Column(name="album_id", type="varchar(50)", length=50, nullable=false)
     * @Label(content="Album ID")
     * @var string
     */
    protected $albumId;

    /**
     * Name
     * 
     * @Column(name="name", type="varchar(50)", length=50, nullable=true)
     * @Label(content="Name")
     * @var string
     */
    protected $name;

    /**
     * Title
     * 
     * @Column(name="title", type="text", nullable=true)
     * @Label(content="Title")
     * @var string
     */
    protected $title;

    /**
     * Description
     * 
     * @Column(name="description", type="longtext", nullable=true)
     * @Label(content="Description")
     * @var string
     */
    protected $description;

    /**
     * Producer ID
     * 
     * @Column(name="producer_id", type="varchar(40)", length=40, nullable=true)
     * @Label(content="Producer ID")
     * @var string
     */
    protected $producerId;

    /**
     * Release Date
     * 
     * @Column(name="release_date", type="date", nullable=true)
     * @Label(content="Release Date")
     * @var string
     */
    protected $releaseDate;

    /**
     * Number Of Song
     * 
     * @Column(name="number_of_song", type="int(11)", length=11, nullable=true)
     * @Label(content="Number Of Song")
     * @var integer
     */
    protected $numberOfSong;

    /**
     * Duration
     * 
     * @Column(name="duration", type="float", nullable=true)
     * @Label(content="Duration")
     * @var double
     */
    protected $duration;

    /**
     * Image Path
     * 
     * @Column(name="image_path", type="text", nullable=true)
     * @Label(content="Image Path")
     * @var string
     */
    protected $imagePath;

    /**
     * Sort Order
     * 
     * @Column(name="sort_order", type="int(11)", length=11, nullable=true)
     * @Label(content="Sort Order")
     * @var integer
     */
    protected $sortOrder;

    /**
     * Time Create
     * 
     * @Column(name="time_create", type="timestamp", length=19, nullable=true, updatable=false)
     * @Label(content="Time Create")
     * @var string
     */
    protected $timeCreate;

    /**
     * Time Edit
     * 
     * @Column(name="time_edit", type="timestamp", length=19, nullable=true)
     * @Label(content="Time Edit")
     * @var string
     */
    protected $timeEdit;

    /**
     * Admin Create
     * 
     * @Column(name="admin_create", type="varchar(40)", length=40, nullable=true, updatable=false)
     * @Label(content="Admin Create")
     * @var string
     */
    protected $adminCreate;

    /**
     * Admin Edit
     * 
     * @Column(name="admin_edit", type="varchar(40)", length=40, nullable=true)
     * @Label(content="Admin Edit")
     * @var string
     */
    protected $adminEdit;

    /**
     * IP Create
     * 
     * @Column(name="ip_create", type="varchar(50)", length=50, nullable=true, updatable=false)
     * @Label(content="IP Create")
     * @var string
     */
    protected $ipCreate;

    /**
     * IP Edit
     * 
     * @Column(name="ip_edit", type="varchar(50)", length=50, nullable=true)
     * @Label(content="IP Edit")
     * @var string
     */
    protected $ipEdit;

    /**
     * Active
     * 
     * @Column(name="active", type="tinyint(1)", length=1, default_value="1", nullable=true)
     * @DefaultColumn(value="1")
     * @var boolean
     */
    protected $active;

    /**
     * As Draft
     * 
     * @Column(name="as_draft", type="tinyint(1)", length=1, default_value="1", nullable=true)
     * @DefaultColumn(value="1")
     * @var boolean
     */
    protected $asDraft;

}</code></pre>
<p><strong>Producer</strong></p>
<pre><code class="language-php">&lt;?php

namespace MusicProductionManager\Data\Entity;

use MagicObject\MagicObject;

/**
 * @Entity
 * @JSON(property-naming-strategy=SNAKE_CASE)
 * @Table(name="producer")
 */
class Producer extends MagicObject
{
    /**
     * Producer ID
     * 
     * @Id
     * @GeneratedValue(strategy=GenerationType.UUID)
     * @NotNull
     * @Column(name="producer_id", type="varchar(40)", length=40, nullable=false)
     * @Label(content="Producer ID")
     * @var string
     */
    protected $producerId;

    /**
     * Name
     * 
     * @Column(name="name", type="varchar(100)", length=100, nullable=true)
     * @Label(content="Name")
     * @var string
     */
    protected $name;

    /**
     * Gender
     * 
     * @Column(name="gender", type="varchar(2)", length=2, nullable=true)
     * @Label(content="Gender")
     * @var string
     */
    protected $gender;

    /**
     * Birth Day
     * 
     * @Column(name="birth_day", type="date", nullable=true)
     * @Label(content="Birth Day")
     * @var string
     */
    protected $birthDay;

    /**
     * Phone
     * 
     * @Column(name="phone", type="varchar(50)", length=50, nullable=true)
     * @Label(content="Phone")
     * @var string
     */
    protected $phone;

    /**
     * Phone2
     * 
     * @Column(name="phone2", type="varchar(50)", length=50, nullable=true)
     * @Label(content="Phone2")
     * @var string
     */
    protected $phone2;

    /**
     * Phone3
     * 
     * @Column(name="phone3", type="varchar(50)", length=50, nullable=true)
     * @Label(content="Phone3")
     * @var string
     */
    protected $phone3;

    /**
     * Email
     * 
     * @Column(name="email", type="varchar(100)", length=100, nullable=true)
     * @Label(content="Email")
     * @var string
     */
    protected $email;

    /**
     * Email2
     * 
     * @Column(name="email2", type="varchar(100)", length=100, nullable=true)
     * @Label(content="Email2")
     * @var string
     */
    protected $email2;

    /**
     * Email3
     * 
     * @Column(name="email3", type="varchar(100)", length=100, nullable=true)
     * @Label(content="Email3")
     * @var string
     */
    protected $email3;

    /**
     * Website
     * 
     * @Column(name="website", type="text", nullable=true)
     * @Label(content="Website")
     * @var string
     */
    protected $website;

    /**
     * Address
     * 
     * @Column(name="address", type="text", nullable=true)
     * @Label(content="Address")
     * @var string
     */
    protected $address;

    /**
     * Picture
     * 
     * @Column(name="picture", type="tinyint(1)", length=1, nullable=true)
     * @var boolean
     */
    protected $picture;

    /**
     * Image Path
     * 
     * @Column(name="image_path", type="text", nullable=true)
     * @Label(content="Image Path")
     * @var string
     */
    protected $imagePath;

    /**
     * Image Update
     * 
     * @Column(name="image_update", type="timestamp", length=19, nullable=true)
     * @Label(content="Image Update")
     * @var string
     */
    protected $imageUpdate;

    /**
     * Time Create
     * 
     * @Column(name="time_create", type="timestamp", length=19, nullable=true, updatable=false)
     * @Label(content="Time Create")
     * @var string
     */
    protected $timeCreate;

    /**
     * Time Edit
     * 
     * @Column(name="time_edit", type="timestamp", length=19, nullable=true)
     * @Label(content="Time Edit")
     * @var string
     */
    protected $timeEdit;

    /**
     * Admin Create
     * 
     * @Column(name="admin_create", type="varchar(40)", length=40, nullable=true, updatable=false)
     * @Label(content="Admin Create")
     * @var string
     */
    protected $adminCreate;

    /**
     * Admin Edit
     * 
     * @Column(name="admin_edit", type="varchar(40)", length=40, nullable=true)
     * @Label(content="Admin Edit")
     * @var string
     */
    protected $adminEdit;

    /**
     * IP Create
     * 
     * @Column(name="ip_create", type="varchar(50)", length=50, nullable=true, updatable=false)
     * @Label(content="IP Create")
     * @var string
     */
    protected $ipCreate;

    /**
     * IP Edit
     * 
     * @Column(name="ip_edit", type="varchar(50)", length=50, nullable=true)
     * @Label(content="IP Edit")
     * @var string
     */
    protected $ipEdit;

    /**
     * Active
     * 
     * @Column(name="active", type="tinyint(1)", length=1, default_value="1", nullable=true)
     * @DefaultColumn(value="1")
     * @var boolean
     */
    protected $active;

}</code></pre>
<p><strong>Artist</strong></p>
<pre><code class="language-php">&lt;?php

namespace MusicProductionManager\Data\Entity;

use MagicObject\MagicObject;

/**
 * @Entity
 * @JSON(property-naming-strategy=SNAKE_CASE)
 * @Table(name="artist")
 */
class Artist extends MagicObject
{
    /**
     * Artist ID
     * 
     * @Id
     * @GeneratedValue(strategy=GenerationType.UUID)
     * @NotNull
     * @Column(name="artist_id", type="varchar(40)", length=40, nullable=false)
     * @Label(content="Artist ID")
     * @var string
     */
    protected $artistId;

    /**
     * Name
     * 
     * @Column(name="name", type="varchar(100)", length=100, nullable=true)
     * @Label(content="Name")
     * @var string
     */
    protected $name;

    /**
     * Stage Name
     * 
     * @Column(name="stage_name", type="varchar(100)", length=100, nullable=true)
     * @Label(content="Stage Name")
     * @var string
     */
    protected $stageName;

    /**
     * Gender
     * 
     * @Column(name="gender", type="varchar(2)", length=2, nullable=true)
     * @Label(content="Gender")
     * @var string
     */
    protected $gender;

    /**
     * Birth Day
     * 
     * @Column(name="birth_day", type="date", nullable=true)
     * @Label(content="Birth Day")
     * @var string
     */
    protected $birthDay;

    /**
     * Phone
     * 
     * @Column(name="phone", type="varchar(50)", length=50, nullable=true)
     * @Label(content="Phone")
     * @var string
     */
    protected $phone;

    /**
     * Phone2
     * 
     * @Column(name="phone2", type="varchar(50)", length=50, nullable=true)
     * @Label(content="Phone2")
     * @var string
     */
    protected $phone2;

    /**
     * Phone3
     * 
     * @Column(name="phone3", type="varchar(50)", length=50, nullable=true)
     * @Label(content="Phone3")
     * @var string
     */
    protected $phone3;

    /**
     * Email
     * 
     * @Column(name="email", type="varchar(100)", length=100, nullable=true)
     * @Label(content="Email")
     * @var string
     */
    protected $email;

    /**
     * Email2
     * 
     * @Column(name="email2", type="varchar(100)", length=100, nullable=true)
     * @Label(content="Email2")
     * @var string
     */
    protected $email2;

    /**
     * Email3
     * 
     * @Column(name="email3", type="varchar(100)", length=100, nullable=true)
     * @Label(content="Email3")
     * @var string
     */
    protected $email3;

    /**
     * Website
     * 
     * @Column(name="website", type="text", nullable=true)
     * @Label(content="Website")
     * @var string
     */
    protected $website;

    /**
     * Address
     * 
     * @Column(name="address", type="text", nullable=true)
     * @Label(content="Address")
     * @var string
     */
    protected $address;

    /**
     * Picture
     * 
     * @Column(name="picture", type="tinyint(1)", length=1, nullable=true)
     * @var boolean
     */
    protected $picture;

    /**
     * Image Path
     * 
     * @Column(name="image_path", type="text", nullable=true)
     * @Label(content="Image Path")
     * @var string
     */
    protected $imagePath;

    /**
     * Image Update
     * 
     * @Column(name="image_update", type="timestamp", length=19, nullable=true)
     * @Label(content="Image Update")
     * @var string
     */
    protected $imageUpdate;

    /**
     * Time Create
     * 
     * @Column(name="time_create", type="timestamp", length=19, nullable=true, updatable=false)
     * @Label(content="Time Create")
     * @var string
     */
    protected $timeCreate;

    /**
     * Time Edit
     * 
     * @Column(name="time_edit", type="timestamp", length=19, nullable=true)
     * @Label(content="Time Edit")
     * @var string
     */
    protected $timeEdit;

    /**
     * Admin Create
     * 
     * @Column(name="admin_create", type="varchar(40)", length=40, nullable=true, updatable=false)
     * @Label(content="Admin Create")
     * @var string
     */
    protected $adminCreate;

    /**
     * Admin Edit
     * 
     * @Column(name="admin_edit", type="varchar(40)", length=40, nullable=true)
     * @Label(content="Admin Edit")
     * @var string
     */
    protected $adminEdit;

    /**
     * IP Create
     * 
     * @Column(name="ip_create", type="varchar(50)", length=50, nullable=true, updatable=false)
     * @Label(content="IP Create")
     * @var string
     */
    protected $ipCreate;

    /**
     * IP Edit
     * 
     * @Column(name="ip_edit", type="varchar(50)", length=50, nullable=true)
     * @Label(content="IP Edit")
     * @var string
     */
    protected $ipEdit;

    /**
     * Active
     * 
     * @Column(name="active", type="tinyint(1)", length=1, default_value="1", nullable=true)
     * @DefaultColumn(value="1")
     * @var boolean
     */
    protected $active;

}</code></pre>
<p><strong>Genre</strong></p>
<pre><code class="language-php">&lt;?php

namespace MusicProductionManager\Data\Entity;

use MagicObject\MagicObject;

/**
 * @Entity
 * @JSON(property-naming-strategy=SNAKE_CASE)
 * @Table(name="genre")
 */
class Genre extends MagicObject
{
    /**
     * Genre ID
     * 
     * @Id
     * @GeneratedValue(strategy=GenerationType.UUID)
     * @NotNull
     * @Column(name="genre_id", type="varchar(50)", length=50, nullable=false)
     * @Label(content="Genre ID")
     * @var string
     */
    protected $genreId;

    /**
     * Name
     * 
     * @Column(name="name", type="varchar(255)", length=255, nullable=true)
     * @Label(content="Name")
     * @var string
     */
    protected $name;

    /**
     * Sort Order
     * 
     * @Column(name="sort_order", type="int(11)", length=11, nullable=true)
     * @Label(content="Sort Order")
     * @var integer
     */
    protected $sortOrder;

    /**
     * Time Create
     * 
     * @Column(name="time_create", type="timestamp", length=19, nullable=true, updatable=false)
     * @Label(content="Time Create")
     * @var string
     */
    protected $timeCreate;

    /**
     * Time Edit
     * 
     * @Column(name="time_edit", type="timestamp", length=19, nullable=true)
     * @Label(content="Time Edit")
     * @var string
     */
    protected $timeEdit;

    /**
     * Admin Create
     * 
     * @Column(name="admin_create", type="varchar(40)", length=40, nullable=true, updatable=false)
     * @Label(content="Admin Create")
     * @var string
     */
    protected $adminCreate;

    /**
     * Admin Edit
     * 
     * @Column(name="admin_edit", type="varchar(40)", length=40, nullable=true)
     * @Label(content="Admin Edit")
     * @var string
     */
    protected $adminEdit;

    /**
     * IP Create
     * 
     * @Column(name="ip_create", type="varchar(50)", length=50, nullable=true, updatable=false)
     * @Label(content="IP Create")
     * @var string
     */
    protected $ipCreate;

    /**
     * IP Edit
     * 
     * @Column(name="ip_edit", type="varchar(50)", length=50, nullable=true)
     * @Label(content="IP Edit")
     * @var string
     */
    protected $ipEdit;

    /**
     * Active
     * 
     * @Column(name="active", type="tinyint(1)", length=1, default_value="1", nullable=true)
     * @DefaultColumn(value="1")
     * @var boolean
     */
    protected $active;

}</code></pre>
<p>To join <code>song</code> and <code>album</code>, we create property</p>
<pre><code class="language-php">    /**
     * Album
     * @JoinColumn(name="album_id")
     * @Label(content="Album")
     * @var Album
     */
    protected $album;</code></pre>
<p>Because <code>album_id</code> is primary key of table <code>album</code>, we not need to write reference column name.</p>
<p>To join <code>song</code> and <code>artist</code>, we create property</p>
<pre><code class="language-php">    **
     * Artist Vocal
     * 
     * @JoinColumn(name="artist_vocalist")
     * @Label(content="Artist Vocal")
     * @var Artist
     */
    protected $vocalist;</code></pre>
<p>Primary key of table <code>artist</code> is <code>artist_id</code>, not <code>artist_vocalist</code>. We should write <code>referenceColumnName</code> in annotation <code>@JoinColumn</code>.</p>
<pre><code class="language-php">    **
     * Artist Vocal
     * 
     * @JoinColumn(name="artist_vocalist" referenceColumnName="artist_id")
     * @Label(content="Artist Vocal")
     * @var Artist
     */
    protected $vocalist;</code></pre>
<p>If entity miss the <code>referenceColumnName</code>, MagicObject will search the primary key of table <code>artist</code> and will use first primary key. Process will run slower. We are recommended to always write <code>referenceColumnName</code> to make it run faster.</p>
<pre><code class="language-php">    /**
     * Album
     * @JoinColumn(name="album_id"  referenceColumnName="artist_id")
     * @Label(content="Album")
     * @var Album
     */
    protected $album;

    /**
     * Artist Vocal
     * 
     * @JoinColumn(name="artist_vocalist" referenceColumnName="artist_id")
     * @Label(content="Artist Vocal")
     * @var Artist
     */
    protected $vocalist;</code></pre>
<h3>Filter and Order by Join Columns</h3>
<p>On real application, user may be filter and order data by column on join table. If the user in the column contains a dot (.) character, then MagicObject will create a select query with a join instead of a regular select query so that filters and orders can work as they should. This way, the process may run slower than with a regular select query.</p>
<pre><code class="language-php">&lt;?php

use MagicObject\Database\PicoDatabase;
use MagicObject\Database\PicoPredicate;
use MagicObject\Database\PicoSort;
use MagicObject\Database\PicoSortable;
use MagicObject\Database\PicoSpecification;
use MagicObject\MagicObject;
use MagicObject\SecretObject;

require_once dirname(__DIR__) . "/vendor/autoload.php";

/**
 * @Entity
 * @JSON(property-naming-strategy=SNAKE_CASE, prettify=true)
 * @Table(name="album")
 */
class EntityAlbum extends MagicObject
{
    /**
     * Album ID
     * 
     * @Id
     * @GeneratedValue(strategy=GenerationType.UUID)
     * @NotNull
     * @Column(name="album_id", type="varchar(50)", length=50, nullable=false)
     * @Label(content="Album ID")
     * @var string
     */
    protected $albumId;

    /**
     * Name
     * 
     * @Column(name="name", type="varchar(50)", length=50, nullable=true)
     * @Label(content="Name")
     * @var string
     */
    protected $name;

    /**
     * Title
     * 
     * @Column(name="title", type="text", nullable=true)
     * @Label(content="Title")
     * @var string
     */
    protected $title;

    /**
     * Description
     * 
     * @Column(name="description", type="longtext", nullable=true)
     * @Label(content="Description")
     * @var string
     */
    protected $description;

    /**
     * Producer ID
     * 
     * @Column(name="producer_id", type="varchar(40)", length=40, nullable=true)
     * @Label(content="Producer ID")
     * @var string
     */
    protected $producerId;

    /**
     * Producer
     * 
     * @JoinColumn(name="producer_id")
     * @Label(content="Producer")
     * @var Producer
     */
    protected $producer;

    /**
     * Release Date
     * 
     * @Column(name="release_date", type="date", nullable=true)
     * @Label(content="Release Date")
     * @var string
     */
    protected $releaseDate;

    /**
     * Number Of Song
     * 
     * @Column(name="number_of_song", type="int(11)", length=11, nullable=true)
     * @Label(content="Number Of Song")
     * @var integer
     */
    protected $numberOfSong;

    /**
     * Duration
     * 
     * @Column(name="duration", type="float", nullable=true)
     * @Label(content="Duration")
     * @var double
     */
    protected $duration;

    /**
     * Image Path
     * 
     * @Column(name="image_path", type="text", nullable=true)
     * @Label(content="Image Path")
     * @var string
     */
    protected $imagePath;

    /**
     * Sort Order
     * 
     * @Column(name="sort_order", type="int(11)", length=11, nullable=true)
     * @Label(content="Sort Order")
     * @var integer
     */
    protected $sortOrder;

    /**
     * Time Create
     * 
     * @Column(name="time_create", type="timestamp", length=19, nullable=true, updatable=false)
     * @Label(content="Time Create")
     * @var string
     */
    protected $timeCreate;

    /**
     * Time Edit
     * 
     * @Column(name="time_edit", type="timestamp", length=19, nullable=true)
     * @Label(content="Time Edit")
     * @var string
     */
    protected $timeEdit;

    /**
     * Admin Create
     * 
     * @Column(name="admin_create", type="varchar(40)", length=40, nullable=true, updatable=false)
     * @Label(content="Admin Create")
     * @var string
     */
    protected $adminCreate;

    /**
     * Admin Edit
     * 
     * @Column(name="admin_edit", type="varchar(40)", length=40, nullable=true)
     * @Label(content="Admin Edit")
     * @var string
     */
    protected $adminEdit;

    /**
     * IP Create
     * 
     * @Column(name="ip_create", type="varchar(50)", length=50, nullable=true, updatable=false)
     * @Label(content="IP Create")
     * @var string
     */
    protected $ipCreate;

    /**
     * IP Edit
     * 
     * @Column(name="ip_edit", type="varchar(50)", length=50, nullable=true)
     * @Label(content="IP Edit")
     * @var string
     */
    protected $ipEdit;

    /**
     * Active
     * 
     * @Column(name="active", type="tinyint(1)", length=1, default_value="1", nullable=true)
     * @DefaultColumn(value="1")
     * @Label(content="Active")
     * @var boolean
     */
    protected $active;

    /**
     * As Draft
     * 
     * @Column(name="as_draft", type="tinyint(1)", length=1, default_value="1", nullable=true)
     * @DefaultColumn(value="1")
     * @var boolean
     */
    protected $asDraft;

}

/**
 * @Entity
 * @JSON(property-naming-strategy=SNAKE_CASE, prettify=true)
 * @Table(name="producer")
 */
class Producer extends MagicObject
{
    /**
     * Producer ID
     * 
     * @Id
     * @GeneratedValue(strategy=GenerationType.UUID)
     * @NotNull
     * @Column(name="producer_id", type="varchar(40)", length=40, nullable=false)
     * @Label(content="Producer ID")
     * @var string
     */
    protected $producerId;

    /**
     * Name
     * 
     * @Column(name="name", type="varchar(100)", length=100, nullable=true)
     * @Label(content="Name")
     * @var string
     */
    protected $name;

    /**
     * Gender
     * 
     * @Column(name="gender", type="varchar(2)", length=2, nullable=true)
     * @Label(content="Gender")
     * @var string
     */
    protected $gender;

    /**
     * Birth Day
     * 
     * @Column(name="birth_day", type="date", nullable=true)
     * @Label(content="Birth Day")
     * @var string
     */
    protected $birthDay;

    /**
     * Phone
     * 
     * @Column(name="phone", type="varchar(50)", length=50, nullable=true)
     * @Label(content="Phone")
     * @var string
     */
    protected $phone;

    /**
     * Phone2
     * 
     * @Column(name="phone2", type="varchar(50)", length=50, nullable=true)
     * @Label(content="Phone2")
     * @var string
     */
    protected $phone2;

    /**
     * Phone3
     * 
     * @Column(name="phone3", type="varchar(50)", length=50, nullable=true)
     * @Label(content="Phone3")
     * @var string
     */
    protected $phone3;

    /**
     * Email
     * 
     * @Column(name="email", type="varchar(100)", length=100, nullable=true)
     * @Label(content="Email")
     * @var string
     */
    protected $email;

    /**
     * Email2
     * 
     * @Column(name="email2", type="varchar(100)", length=100, nullable=true)
     * @Label(content="Email2")
     * @var string
     */
    protected $email2;

    /**
     * Email3
     * 
     * @Column(name="email3", type="varchar(100)", length=100, nullable=true)
     * @Label(content="Email3")
     * @var string
     */
    protected $email3;

    /**
     * Website
     * 
     * @Column(name="website", type="text", nullable=true)
     * @Label(content="Website")
     * @var string
     */
    protected $website;

    /**
     * Address
     * 
     * @Column(name="address", type="text", nullable=true)
     * @Label(content="Address")
     * @var string
     */
    protected $address;

    /**
     * Picture
     * 
     * @Column(name="picture", type="tinyint(1)", length=1, nullable=true)
     * @var boolean
     */
    protected $picture;

    /**
     * Image Path
     * 
     * @Column(name="image_path", type="text", nullable=true)
     * @Label(content="Image Path")
     * @var string
     */
    protected $imagePath;

    /**
     * Image Update
     * 
     * @Column(name="image_update", type="timestamp", length=19, nullable=true)
     * @Label(content="Image Update")
     * @var string
     */
    protected $imageUpdate;

    /**
     * Time Create
     * 
     * @Column(name="time_create", type="timestamp", length=19, nullable=true, updatable=false)
     * @Label(content="Time Create")
     * @var string
     */
    protected $timeCreate;

    /**
     * Time Edit
     * 
     * @Column(name="time_edit", type="timestamp", length=19, nullable=true)
     * @Label(content="Time Edit")
     * @var string
     */
    protected $timeEdit;

    /**
     * Admin Create
     * 
     * @Column(name="admin_create", type="varchar(40)", length=40, nullable=true, updatable=false)
     * @Label(content="Admin Create")
     * @var string
     */
    protected $adminCreate;

    /**
     * Admin Edit
     * 
     * @Column(name="admin_edit", type="varchar(40)", length=40, nullable=true)
     * @Label(content="Admin Edit")
     * @var string
     */
    protected $adminEdit;

    /**
     * IP Create
     * 
     * @Column(name="ip_create", type="varchar(50)", length=50, nullable=true, updatable=false)
     * @Label(content="IP Create")
     * @var string
     */
    protected $ipCreate;

    /**
     * IP Edit
     * 
     * @Column(name="ip_edit", type="varchar(50)", length=50, nullable=true)
     * @Label(content="IP Edit")
     * @var string
     */
    protected $ipEdit;

    /**
     * Active
     * 
     * @Column(name="active", type="tinyint(1)", length=1, default_value="1", nullable=true)
     * @DefaultColumn(value="1")
     * @Label(content="Active")
     * @var boolean
     */
    protected $active;

}

$databaseCredential = new SecretObject();
$databaseCredential-&gt;loadYamlFile(dirname(dirname(__DIR__))."/test.yml", false, true, true);
$database = new PicoDatabase($databaseCredential);
$database-&gt;connect();

$album = new EntityAlbum(null, $database);
try
{
    $spesification = new PicoSpecification();   

    $predicate1 = new PicoPredicate();
    // for entity album, just use the colum name
    $predicate1-&gt;like('title', '%Album%');
    $spesification-&gt;addAnd($predicate1);

    $predicate2 = new PicoPredicate();
    $predicate2-&gt;lessThan('producer.birthDay', '2001-01-01');
    $spesification-&gt;addAnd($predicate2);

    $predicate3 = new PicoPredicate();
    // type releaseDate instead of release_date
    // because MagicObject use entyty property name, not real table column name 
    $predicate3-&gt;greaterThan('releaseDate', '2020-01-01');
    $spesification-&gt;addAnd($predicate3);

    $predicate4 = new PicoPredicate();
    $predicate4-&gt;equals('active', true);
    $spesification-&gt;addAnd($predicate4);

    $predicate4 = new PicoPredicate();
    $predicate4-&gt;equals('asDraft', false);
    $spesification-&gt;addAnd($predicate4);

    $sortable = new PicoSortable();

    $sortable-&gt;addSortable(new PicoSort("producer.birthDay", PicoSort::ORDER_TYPE_ASC));
    $sortable-&gt;addSortable(new PicoSort("producer.producerId", PicoSort::ORDER_TYPE_DESC));

    $pageData = $album-&gt;findAll($spesification, null, $sortable, true);
    $rowData = $pageData-&gt;getResult();
    foreach($rowData as $alb)
    {
        //echo $alb."\r\n\r\n";
    }

    $pagable = new PicoPagable(new PicoPage(1, 20));
    echo $album-&gt;findAllQuery($spesification, $pagable, $sortable, true);
    /**
     *  select album.*
        from album
        left join producer producer__jn__1
        on producer__jn__1.producer_id = album.producer_id
        where album.title like '%Album%'
        and producer__jn__1.birth_day &lt; '2001-01-01'
        and album.release_date &gt; '2020-01-01' and album.active = true
        and album.as_draft = false
        order by producer__jn__1.birth_day asc, producer__jn__1.producer_id desc
        limit 0, 20
     */
    echo "\r\n-----\r\n";
    echo $spesification;
    echo "\r\n-----\r\n";
    echo $sortable;
    echo "\r\n-----\r\n";
    echo $pagable;
}
catch(Exception $e)
{
    echo $e-&gt;getMessage();
}</code></pre>
<pre><code class="language-php">    $predicate2 = new PicoPredicate();
    $predicate2-&gt;lessThan('producer.birthDay', '2001-01-01');
    $spesification-&gt;addAnd($predicate2);</code></pre>
<p><code>producer</code> is property of entity that join with other entity, not table name. <code>birthDay</code> and <code>producerId</code> are is property of entity <code>producer</code>, not column name of table <code>producer</code>.</p>
</article>

<article class="article" id="part13">
<h2>Filtering, Ordering and Pagination</h2>
<p>MagicObject will filter data according to the given criteria. On the other hand, MagicObject will only retrieve data on the specified page by specifying <code>limit</code> and <code>offset</code> data in the <code>select</code> query.</p>
<p>Example parameters:</p>
<p><code>genre_id=0648d4e176da4df4472d&amp;album_id=&amp;artist_vocal_id=&amp;name=&amp;vocal=&amp;lyric_complete=&amp;active=&amp;page=2&amp;orderby=title&amp;ordertype=asc</code></p>
<p>Create entity according to database</p>
<pre><code class="language-php">&lt;?php

namespace MusicProductionManager\Data\Entity;

use MagicObject\MagicObject;

/**
 * @Entity
 * @JSON(property-naming-strategy=SNAKE_CASE)
 * @Table(name="song")
 */
class EntitySong extends MagicObject
{
    /**
     * Song ID
     * 
     * @Id
     * @GeneratedValue(strategy=GenerationType.UUID)
     * @NotNull
     * @Column(name="song_id", type="varchar(50)", length=50, nullable=false)
     * @Label(content="Song ID")
     * @var string
     */
    protected $songId;

    /**
     * Random Song ID
     * 
     * @Column(name="random_song_id", type="varchar(50)", length=50, nullable=true)
     * @Label(content="Random Song ID")
     * @var string
     */
    protected $randomSongId;

    /**
     * Name
     * 
     * @Column(name="name", type="varchar(100)", length=100, nullable=true)
     * @Label(content="Name")
     * @var string
     */
    protected $name;

    /**
     * Title
     * 
     * @Column(name="title", type="text", nullable=true)
     * @Label(content="Title")
     * @var string
     */
    protected $title;

    /**
     * Album ID
     * 
     * @Column(name="album_id", type="varchar(50)", length=50, nullable=true)
     * @Label(content="Album ID")
     * @var string
     */
    protected $albumId;

    /**
     * Album
     * @JoinColumn(name="album_id")
     * @Label(content="Album")
     * @var Album
     */
    protected $album;

    /**
     * Track Number
     * 
     * @Column(name="track_number", type="int(11)", length=11, nullable=true)
     * @Label(content="Track Number")
     * @var integer
     */
    protected $trackNumber;

    /**
     * Producer ID
     * 
     * @Column(name="producer_id", type="varchar(40)", length=40, nullable=true)
     * @Label(content="Producer ID")
     * @var string
     */
    protected $producerId;

    /**
     * Producer
     * 
     * @JoinColumn(name="producer_id")
     * @Label(content="Producer")
     * @var Producer
     */
    protected $producer;

    /**
     * Artist Vocal
     * 
     * @Column(name="artist_vocalist", type="varchar(50)", length=50, nullable=true)
     * @Label(content="Artist Vocal")
     * @var string
     */
    protected $artistVocalist;

    /**
     * Artist Vocal
     * 
     * @JoinColumn(name="artist_vocalist")
     * @Label(content="Artist Vocal")
     * @var Artist
     */
    protected $vocalist;

    /**
     * Artist Composer
     * 
     * @Column(name="artist_composer", type="varchar(50)", length=50, nullable=true)
     * @Label(content="Artist Composer")
     * @var string
     */
    protected $artistComposer;

    /**
     * Artist Composer
     * 
     * @JoinColumn(name="artist_composer")
     * @Label(content="Artist Composer")
     * @var Artist
     */
    protected $composer;

    /**
     * Artist Arranger
     * 
     * @Column(name="artist_arranger", type="varchar(50)", length=50, nullable=true)
     * @Label(content="Artist Arranger")
     * @var string
     */
    protected $artistArranger;

    /**
     * Artist Arranger
     * 
     * @JoinColumn(name="artist_arranger")
     * @Label(content="Artist Arranger")
     * @var Artist
     */
    protected $arranger;

    /**
     * File Path
     * 
     * @Column(name="file_path", type="text", nullable=true)
     * @Label(content="File Path")
     * @var string
     */
    protected $filePath;

    /**
     * File Name
     * 
     * @Column(name="file_name", type="varchar(100)", length=100, nullable=true)
     * @Label(content="File Name")
     * @var string
     */
    protected $fileName;

    /**
     * File Type
     * 
     * @Column(name="file_type", type="varchar(100)", length=100, nullable=true)
     * @Label(content="File Type")
     * @var string
     */
    protected $fileType;

    /**
     * File Extension
     * 
     * @Column(name="file_extension", type="varchar(20)", length=20, nullable=true)
     * @Label(content="File Extension")
     * @var string
     */
    protected $fileExtension;

    /**
     * File Size
     * 
     * @Column(name="file_size", type="bigint(20)", length=20, nullable=true)
     * @Label(content="File Size")
     * @var integer
     */
    protected $fileSize;

    /**
     * File Md5
     * 
     * @Column(name="file_md5", type="varchar(32)", length=32, nullable=true)
     * @Label(content="File Md5")
     * @var string
     */
    protected $fileMd5;

    /**
     * File Upload Time
     * 
     * @Column(name="file_upload_time", type="timestamp", length=19, nullable=true)
     * @Label(content="File Upload Time")
     * @var string
     */
    protected $fileUploadTime;

    /**
     * First Upload Time
     * 
     * @Column(name="first_upload_time", type="timestamp", length=19, nullable=true)
     * @Label(content="First Upload Time")
     * @var string
     */
    protected $firstUploadTime;

    /**
     * Last Upload Time
     * 
     * @Column(name="last_upload_time", type="timestamp", length=19, nullable=true)
     * @Label(content="Last Upload Time")
     * @var string
     */
    protected $lastUploadTime;

    /**
     * File Path Midi
     * 
     * @Column(name="file_path_midi", type="text", nullable=true)
     * @Label(content="File Path Midi")
     * @var string
     */
    protected $filePathMidi;

    /**
     * Last Upload Time Midi
     * 
     * @Column(name="last_upload_time_midi", type="timestamp", length=19, nullable=true)
     * @Label(content="Last Upload Time Midi")
     * @var string
     */
    protected $lastUploadTimeMidi;

    /**
     * File Path Xml
     * 
     * @Column(name="file_path_xml", type="text", nullable=true)
     * @Label(content="File Path Xml")
     * @var string
     */
    protected $filePathXml;

    /**
     * Last Upload Time Xml
     * 
     * @Column(name="last_upload_time_xml", type="timestamp", length=19, nullable=true)
     * @Label(content="Last Upload Time Xml")
     * @var string
     */
    protected $lastUploadTimeXml;

    /**
     * File Path Pdf
     * 
     * @Column(name="file_path_pdf", type="text", nullable=true)
     * @Label(content="File Path Pdf")
     * @var string
     */
    protected $filePathPdf;

    /**
     * Last Upload Time Pdf
     * 
     * @Column(name="last_upload_time_pdf", type="timestamp", length=19, nullable=true)
     * @Label(content="Last Upload Time Pdf")
     * @var string
     */
    protected $lastUploadTimePdf;

    /**
     * Duration
     * 
     * @Column(name="duration", type="float", nullable=true)
     * @Label(content="Duration")
     * @var double
     */
    protected $duration;

    /**
     * Genre ID
     * 
     * @Column(name="genre_id", type="varchar(50)", length=50, nullable=true)
     * @Label(content="Genre ID")
     * @var string
     */
    protected $genreId;

    /**
     * Genre ID
     * 
     * @JoinColumn(name="genre_id")
     * @Label(content="Genre ID")
     * @var Genre
     */
    protected $genre;

    /**
     * Bpm
     * 
     * @Column(name="bpm", type="float", nullable=true)
     * @Label(content="Bpm")
     * @var double
     */
    protected $bpm;

    /**
     * Time Signature
     * 
     * @Column(name="time_signature", type="varchar(40)", length=40, nullable=true)
     * @Label(content="Time Signature")
     * @var string
     */
    protected $timeSignature;

    /**
     * Subtitle
     * 
     * @Column(name="subtitle", type="longtext", nullable=true)
     * @Label(content="Subtitle")
     * @var string
     */
    protected $subtitle;

    /**
     * Subtitle Complete
     * 
     * @Column(name="subtitle_complete", type="tinyint(1)", length=1, nullable=true)
     * @var boolean
     */
    protected $subtitleComplete;

    /**
     * Lyric Midi
     * 
     * @Column(name="lyric_midi", type="longtext", nullable=true)
     * @Label(content="Lyric Midi")
     * @var string
     */
    protected $lyricMidi;

    /**
     * Lyric Midi Raw
     * 
     * @Column(name="lyric_midi_raw", type="longtext", nullable=true)
     * @Label(content="Lyric Midi Raw")
     * @var string
     */
    protected $lyricMidiRaw;

    /**
     * Vocal Guide
     * 
     * @Column(name="vocal_guide", type="longtext", nullable=true)
     * @Label(content="Vocal Guide")
     * @var string
     */
    protected $vocalGuide;

    /**
     * Vocal
     * 
     * @Column(name="vocal", type="tinyint(1)", length=1, nullable=true)
     * @var boolean
     */
    protected $vocal;

    /**
     * Instrument
     * 
     * @Column(name="instrument", type="longtext", nullable=true)
     * @Label(content="Instrument")
     * @var string
     */
    protected $instrument;

    /**
     * Midi Vocal Channel
     * 
     * @Column(name="midi_vocal_channel", type="int(11)", length=11, nullable=true)
     * @Label(content="Midi Vocal Channel")
     * @var integer
     */
    protected $midiVocalChannel;

    /**
     * Rating
     * 
     * @Column(name="rating", type="float", nullable=true)
     * @Label(content="Rating")
     * @var double
     */
    protected $rating;

    /**
     * Comment
     * 
     * @Column(name="comment", type="longtext", nullable=true)
     * @Label(content="Comment")
     * @var string
     */
    protected $comment;

    /**
     * Image Path
     * 
     * @Column(name="image_path", type="text", nullable=true)
     * @Label(content="Image Path")
     * @var string
     */
    protected $imagePath;

    /**
     * Last Upload Time Image
     * 
     * @Column(name="last_upload_time_image", type="timestamp", length=19, nullable=true)
     * @Label(content="Last Upload Time Image")
     * @var string
     */
    protected $lastUploadTimeImage;

    /**
     * Time Create
     * 
     * @Column(name="time_create", type="timestamp", length=19, nullable=true, updatable=false)
     * @Label(content="Time Create")
     * @var string
     */
    protected $timeCreate;

    /**
     * Time Edit
     * 
     * @Column(name="time_edit", type="timestamp", length=19, nullable=true)
     * @Label(content="Time Edit")
     * @var string
     */
    protected $timeEdit;

    /**
     * IP Create
     * 
     * @Column(name="ip_create", type="varchar(50)", length=50, nullable=true, updatable=false)
     * @Label(content="IP Create")
     * @var string
     */
    protected $ipCreate;

    /**
     * IP Edit
     * 
     * @Column(name="ip_edit", type="varchar(50)", length=50, nullable=true)
     * @Label(content="IP Edit")
     * @var string
     */
    protected $ipEdit;

    /**
     * Admin Create
     * 
     * @Column(name="admin_create", type="varchar(50)", length=50, nullable=true, updatable=false)
     * @Label(content="Admin Create")
     * @var string
     */
    protected $adminCreate;

    /**
     * Admin Edit
     * 
     * @Column(name="admin_edit", type="varchar(50)", length=50, nullable=true)
     * @Label(content="Admin Edit")
     * @var string
     */
    protected $adminEdit;

    /**
     * Active
     * 
     * @Column(name="active", type="tinyint(1)", length=1, default_value="1", nullable=true)
     * @DefaultColumn(value="1")
     * @var boolean
     */
    protected $active;
}</code></pre>
<p>Filtering and pagination</p>
<pre><code class="language-php">&lt;?php
use MagicObject\Database\PicoPagable;
use MagicObject\Database\PicoPage;
use MagicObject\Database\PicoSort;
use MagicObject\Database\PicoSortable;
use MagicObject\Pagination\PicoPagination;
use MagicObject\Request\PicoFilterConstant;
use MagicObject\Request\InputGet;
use MagicObject\Response\Generated\PicoSelectOption;
use MagicObject\Util\Dms;
use MusicProductionManager\Constants\ParamConstant;
use MusicProductionManager\Data\Entity\Album;
use MusicProductionManager\Data\Entity\Artist;
use MusicProductionManager\Data\Entity\EntitySong;
use MusicProductionManager\Data\Entity\EntitySongComment;
use MusicProductionManager\Data\Entity\Genre;
use MusicProductionManager\Data\Entity\Producer;
use MusicProductionManager\Utility\SpecificationUtil;
use MusicProductionManager\Utility\UserUtil;

require_once "inc/auth-with-login-form.php";
require_once "inc/header.php";

$inputGet = new InputGet();

$allowChangeVocalist = UserUtil::isAllowSelectVocalist($currentLoggedInUser);
$allowChangeComposer = UserUtil::isAllowSelectComposer($currentLoggedInUser);
$allowChangeArranger = UserUtil::isAllowSelectArranger($currentLoggedInUser);

?&gt;
&lt;div class="filter-container"&gt;
&lt;form action="" method="get"&gt;
&lt;div class="filter-group"&gt;
    &lt;span&gt;Genre&lt;/span&gt;
    &lt;select class="form-control" name="genre_id" id="genre_id"&gt;
        &lt;option value=""&gt;- All -&lt;/option&gt;
        &lt;?php echo new PicoSelectOption(new Genre(null, $database), array('value'=&gt;'genreId', 'label'=&gt;'name'), $inputGet-&gt;getGenreId()); ?&gt;
    &lt;/select&gt;
&lt;/div&gt;
&lt;div class="filter-group"&gt;
    &lt;span&gt;Album&lt;/span&gt;
    &lt;select class="form-control" name="album_id" id="album_id"&gt;
        &lt;option value=""&gt;- All -&lt;/option&gt;
        &lt;?php echo new PicoSelectOption(new Album(null, $database), array('value'=&gt;'albumId', 'label'=&gt;'name'), $inputGet-&gt;getAlbumId(), null, new PicoSortable('sortOrder', PicoSort::ORDER_TYPE_DESC)); ?&gt;
    &lt;/select&gt;
&lt;/div&gt;
&lt;div class="filter-group"&gt;
    &lt;span&gt;Producer&lt;/span&gt;
    &lt;select class="form-control" name="producer_id" id="producer_id"&gt;
        &lt;option value=""&gt;- All -&lt;/option&gt;
        &lt;?php echo new PicoSelectOption(new Producer(null, $database), array('value'=&gt;'producerId', 'label'=&gt;'name'), $inputGet-&gt;getProducerId()); ?&gt;
    &lt;/select&gt;
&lt;/div&gt;
&lt;div class="filter-group"&gt;
    &lt;span&gt;Composer&lt;/span&gt;
    &lt;select class="form-control" name="composer" id="composer"&gt;
        &lt;option value=""&gt;- All -&lt;/option&gt;
        &lt;?php echo new PicoSelectOption(new Artist(null, $database), array('value'=&gt;'artistId', 'label'=&gt;'name'), $inputGet-&gt;getComposer()); ?&gt;
    &lt;/select&gt;
&lt;/div&gt;
&lt;div class="filter-group"&gt;
    &lt;span&gt;Arranger&lt;/span&gt;
    &lt;select class="form-control" name="arranger" id="arranger"&gt;
        &lt;option value=""&gt;- All -&lt;/option&gt;
        &lt;?php echo new PicoSelectOption(new Artist(null, $database), array('value'=&gt;'artistId', 'label'=&gt;'name'), $inputGet-&gt;getArranger()); ?&gt;
    &lt;/select&gt;
&lt;/div&gt;
&lt;div class="filter-group"&gt;
    &lt;span&gt;Vocalist&lt;/span&gt;
    &lt;select class="form-control" name="vocalist" id="vocalist"&gt;
        &lt;option value=""&gt;- All -&lt;/option&gt;
        &lt;?php echo new PicoSelectOption(new Artist(null, $database), array('value'=&gt;'artistId', 'label'=&gt;'name'), $inputGet-&gt;getVocalist()); ?&gt;
    &lt;/select&gt;
&lt;/div&gt;
&lt;div class="filter-group"&gt;
    &lt;span&gt;Title&lt;/span&gt;
    &lt;input class="form-control" type="text" name="title" id="title" autocomplete="off" value="&lt;?php echo $inputGet-&gt;getTitle(PicoFilterConstant::FILTER_SANITIZE_SPECIAL_CHARS);?&gt;"&gt;
&lt;/div&gt;
&lt;div class="filter-group"&gt;
    &lt;span&gt;Subtitle&lt;/span&gt;
    &lt;input class="form-control" type="text" name="subtitle" id="subtitle" autocomplete="off" value="&lt;?php echo $inputGet-&gt;getSubtitle(PicoFilterConstant::FILTER_SANITIZE_SPECIAL_CHARS);?&gt;"&gt;
&lt;/div&gt;

&lt;div class="filter-group"&gt;
    &lt;span&gt;Subtitle Complete&lt;/span&gt;
    &lt;select class="form-control" name="subtitle_complete" id="subtitle_complete"&gt;
        &lt;option value=""&gt;- All -&lt;/option&gt;
        &lt;option value="1"&lt;?php echo $inputGet-&gt;createSelectedSubtitleComplete("1");?&gt;&gt;Yes&lt;/option&gt;
        &lt;option value="0"&lt;?php echo $inputGet-&gt;createSelectedSubtitleComplete("0");?&gt;&gt;No&lt;/option&gt;
    &lt;/select&gt;
&lt;/div&gt;

&lt;div class="filter-group"&gt;
    &lt;span&gt;Vocal&lt;/span&gt;
    &lt;select class="form-control" name="vocal" id="vocal"&gt;
        &lt;option value=""&gt;- All -&lt;/option&gt;
        &lt;option value="1"&lt;?php echo $inputGet-&gt;createSelectedVocal("1");?&gt;&gt;Yes&lt;/option&gt;
        &lt;option value="0"&lt;?php echo $inputGet-&gt;createSelectedVocal("0");?&gt;&gt;No&lt;/option&gt;
    &lt;/select&gt;
&lt;/div&gt;

&lt;div class="filter-group"&gt;
    &lt;span&gt;Active&lt;/span&gt;
    &lt;select class="form-control" name="active" id="active"&gt;
        &lt;option value=""&gt;- All -&lt;/option&gt;
        &lt;option value="1"&lt;?php echo $inputGet-&gt;createSelectedActive("1");?&gt;&gt;Yes&lt;/option&gt;
        &lt;option value="0"&lt;?php echo $inputGet-&gt;createSelectedActive("0");?&gt;&gt;No&lt;/option&gt;
    &lt;/select&gt;
&lt;/div&gt;

&lt;input class="btn btn-success" type="submit" value="Show"&gt;

&lt;/form&gt;
&lt;/div&gt;
&lt;?php
$orderMap = array(
'name'=&gt;'name', 
'title'=&gt;'title', 
'rating'=&gt;'rating',
'albumId'=&gt;'albumId', 
'album'=&gt;'albumId', 
'trackNumber'=&gt;'trackNumber',
'genreId'=&gt;'genreId', 
'genre'=&gt;'genreId',
'producerId'=&gt;'producerId',
'artistVocalId'=&gt;'artistVocalId',
'artistVocalist'=&gt;'artistVocalId',
'artistComposer'=&gt;'artistComposer',
'artistArranger'=&gt;'artistArranger',
'duration'=&gt;'duration',
'subtitleComplete'=&gt;'subtitleComplete',
'vocal'=&gt;'vocal',
'active'=&gt;'active'
);
$defaultOrderBy = 'albumId';
$defaultOrderType = 'desc';
$pagination = new PicoPagination($cfg-&gt;getResultPerPage());

$spesification = SpecificationUtil::createSongSpecification($inputGet);

if($pagination-&gt;getOrderBy() == '')
{
$sortable = new PicoSortable();
$sort1 = new PicoSort('albumId', PicoSort::ORDER_TYPE_DESC);
$sortable-&gt;addSortable($sort1);
$sort2 = new PicoSort('trackNumber', PicoSort::ORDER_TYPE_ASC);
$sortable-&gt;addSortable($sort2);
}
else
{
$sortable = new PicoSortable($pagination-&gt;getOrderBy($orderMap, $defaultOrderBy), $pagination-&gt;getOrderType($defaultOrderType));
}

$pagable = new PicoPagable(new PicoPage($pagination-&gt;getCurrentPage(), $pagination-&gt;getPageSize()), $sortable);

$songEntity = new EntitySong(null, $database);
$rowData = $songEntity-&gt;findAll($spesification, $pagable, $sortable, true);

$result = $rowData-&gt;getResult();

?&gt;

&lt;script&gt;
$(document).ready(function(e){
    let pg = new Pagination('.pagination', '.page-selector', 'data-page-number', 'page');
    pg.init();
    $(document).on('change', '.filter-container form select', function(e2){
        $(this).closest('form').submit();
    });
});
&lt;/script&gt;

&lt;?php
if(!empty($result))
{
?&gt;
&lt;div class="pagination"&gt;
&lt;div class="pagination-number"&gt;
&lt;?php
foreach($rowData-&gt;getPagination() as $pg)
{
    ?&gt;&lt;span class="page-selector&lt;?php echo $pg['selected'] ? ' page-selected':'';?&gt;" data-page-number="&lt;?php echo $pg['page'];?&gt;"&gt;&lt;a href="#"&gt;&lt;?php echo $pg['page'];?&gt;&lt;/a&gt;&lt;/span&gt;&lt;?php
}
?&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="table-list-container" style="overflow-x:auto"&gt;
&lt;table class="table text-nowrap"&gt;
&lt;thead&gt;
    &lt;tr&gt;
    &lt;th scope="col" width="20"&gt;&lt;i class="ti ti-edit"&gt;&lt;/i&gt;&lt;/th&gt;
    &lt;th scope="col" width="20"&gt;&lt;i class="ti ti-player-play"&gt;&lt;/i&gt;&lt;/th&gt;
    &lt;th scope="col" width="20"&gt;&lt;i class="ti ti-download"&gt;&lt;/i&gt;&lt;/th&gt;
    &lt;th scope="col" width="20"&gt;#&lt;/th&gt;
    &lt;th scope="col" class="col-sort" data-name="name"&gt;Name&lt;/th&gt;
    &lt;th scope="col" class="col-sort" data-name="title"&gt;Title&lt;/th&gt;
    &lt;th scope="col" class="col-sort" data-name="rating"&gt;Rate&lt;/th&gt;
    &lt;th scope="col" class="col-sort" data-name="album_id"&gt;Album&lt;/th&gt;
    &lt;th scope="col" class="col-sort" data-name="producer_id"&gt;Producer&lt;/th&gt;
    &lt;th scope="col" class="col-sort" data-name="track_number"&gt;Trk&lt;/th&gt;
    &lt;th scope="col" class="col-sort" data-name="genre_id"&gt;Genre&lt;/th&gt;
    &lt;th scope="col" class="col-sort" data-name="artist_vocalist"&gt;Vocalist&lt;/th&gt;
    &lt;th scope="col" class="col-sort" data-name="artist_composer"&gt;Composer&lt;/th&gt;
    &lt;th scope="col" class="col-sort" data-name="artist_arranger"&gt;Arranger&lt;/th&gt;
    &lt;th scope="col" class="col-sort" data-name="duration"&gt;Duration&lt;/th&gt;
    &lt;th scope="col" class="col-sort" data-name="vocal"&gt;Vocal&lt;/th&gt;
    &lt;th scope="col" class="col-sort" data-name="subtitle_complete"&gt;Sub&lt;/th&gt;
    &lt;th scope="col" class="col-sort" data-name="active"&gt;Active&lt;/th&gt;
    &lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
    &lt;?php
    $no = $pagination-&gt;getOffset();
    foreach($result as $song)
    {
    $no++;
    $songId = $song-&gt;getSongId();
    $linkEdit = basename($_SERVER['PHP_SELF'])."?action=edit&amp;song_id=".$songId;
    $linkDetail = basename($_SERVER['PHP_SELF'])."?action=detail&amp;song_id=".$songId;
    $linkDelete = basename($_SERVER['PHP_SELF'])."?action=delete&amp;song_id=".$songId;
    $linkDownload = "read-file.php?type=all&amp;song_id=".$songId;
    ?&gt;
    &lt;tr data-id="&lt;?php echo $songId;?&gt;"&gt;
    &lt;th scope="row"&gt;&lt;a href="&lt;?php echo $linkEdit;?&gt;" class="edit-data"&gt;&lt;i class="ti ti-edit"&gt;&lt;/i&gt;&lt;/a&gt;&lt;/th&gt;
    &lt;th scope="row"&gt;&lt;a href="#" class="play-data" data-url="&lt;?php echo $cfg-&gt;getSongBaseUrl()."/".$song-&gt;getSongId()."/".basename($song-&gt;getFilePath());?&gt;?hash=&lt;?php echo str_replace(array(' ', '-', ':'), '', $song-&gt;getLastUploadTime());?&gt;"&gt;&lt;i class="ti ti-player-play"&gt;&lt;/i&gt;&lt;/a&gt;&lt;/th&gt;
    &lt;th scope="row"&gt;&lt;a href="&lt;?php echo $linkDownload;?&gt;"&gt;&lt;i class="ti ti-download"&gt;&lt;/i&gt;&lt;/a&gt;&lt;/th&gt;
    &lt;th class="text-right" scope="row"&gt;&lt;?php echo $no;?&gt;&lt;/th&gt;
    &lt;td class="text-nowrap"&gt;&lt;a href="&lt;?php echo $linkDetail;?&gt;" class="text-data text-data-name"&gt;&lt;?php echo $song-&gt;getName();?&gt;&lt;/a&gt;&lt;/td&gt;
    &lt;td class="text-nowrap"&gt;&lt;a href="&lt;?php echo $linkDetail;?&gt;" class="text-data text-data-title"&gt;&lt;?php echo $song-&gt;getTitle();?&gt;&lt;/a&gt;&lt;/td&gt;
    &lt;td class="text-data text-data-rating text-nowrap"&gt;&lt;?php echo $song-&gt;hasValueRating() ? $song-&gt;getRating() : "";?&gt;&lt;/td&gt;
    &lt;td class="text-data text-data-album-name text-nowrap"&gt;&lt;?php echo $song-&gt;hasValueAlbum() ? $song-&gt;getAlbum()-&gt;getName() : "";?&gt;&lt;/td&gt;
    &lt;td class="text-data text-data-producer-name text-nowrap"&gt;&lt;?php echo $song-&gt;hasValueProducer() ? $song-&gt;getProducer()-&gt;getName() : "";?&gt;&lt;/td&gt;
    &lt;td class="text-data text-data-track-number text-nowrap"&gt;&lt;?php echo $song-&gt;hasValueTrackNumber() ? $song-&gt;getTrackNumber() : "";?&gt;&lt;/td&gt;
    &lt;td class="text-data text-data-genre-name text-nowrap"&gt;&lt;?php echo $song-&gt;hasValueGenre() ? $song-&gt;getGenre()-&gt;getName() : "";?&gt;&lt;/td&gt;
    &lt;td class="text-data text-data-artist-vocal-name text-nowrap"&gt;&lt;?php echo $song-&gt;hasValueVocalist() ? $song-&gt;getVocalist()-&gt;getName() : "";?&gt;&lt;/td&gt;
    &lt;td class="text-data text-data-artist-composer-name text-nowrap"&gt;&lt;?php echo $song-&gt;hasValueComposer() ? $song-&gt;getComposer()-&gt;getName() : "";?&gt;&lt;/td&gt;
    &lt;td class="text-data text-data-artist-arranger-name text-nowrap"&gt;&lt;?php echo $song-&gt;hasValueArranger() ? $song-&gt;getArranger()-&gt;getName() : "";?&gt;&lt;/td&gt;
    &lt;td class="text-data text-data-duration text-nowrap"&gt;&lt;?php echo (new Dms())-&gt;ddToDms($song-&gt;getDuration() / 3600)-&gt;printDms(true, true); ?&gt;&lt;/td&gt;
    &lt;td class="text-data text-data-vocal text-nowrap"&gt;&lt;?php echo $song-&gt;isVocal() ? 'Yes' : 'No';?&gt;&lt;/td&gt;
    &lt;td class="text-data text-data-subtitle-complete text-nowrap"&gt;&lt;?php echo $song-&gt;isSsubtitleComplete() ? 'Yes' : 'No';?&gt;&lt;/td&gt;
    &lt;td class="text-data text-data-active text-nowrap"&gt;&lt;?php echo $song-&gt;isActive() ? 'Yes' : 'No';?&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;?php
    }
    ?&gt;

&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;

&lt;div class="pagination"&gt;
&lt;div class="pagination-number"&gt;
&lt;?php
foreach($rowData-&gt;getPagination() as $pg)
{
    ?&gt;&lt;span class="page-selector&lt;?php echo $pg['selected'] ? ' page-selected':'';?&gt;" data-page-number="&lt;?php echo $pg['page'];?&gt;"&gt;&lt;a href="#"&gt;&lt;?php echo $pg['page'];?&gt;&lt;/a&gt;&lt;/span&gt;&lt;?php
}
?&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;?php
}
?&gt;

&lt;script&gt;
let playerModal;

$(document).ready(function(e){
let playerModalSelector = document.querySelector('#songPlayer');
playerModal = new bootstrap.Modal(playerModalSelector, {
    keyboard: false
});

$('a.play-data').on('click', function(e2){
    e2.preventDefault();
    $('#songPlayer').find('audio').attr('src', $(this).attr('data-url'));
    playerModal.show();
});
$('.close-player').on('click', function(e2){
    e2.preventDefault();
    $('#songPlayer').find('audio')[0].pause();
    playerModal.hide();
});
});
&lt;/script&gt;

&lt;div style="background-color: rgba(0, 0, 0, 0.11);" class="modal fade" id="songPlayer" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="songPlayerLabel" aria-hidden="true"&gt;
&lt;div class="modal-dialog modal-dialog-centered"&gt;
    &lt;div class="modal-content"&gt;
        &lt;div class="modal-header"&gt;
            &lt;h5 class="modal-title" id="addAlbumDialogLabel"&gt;Play Song&lt;/h5&gt;
            &lt;button type="button" class="btn-primary btn-close close-player" aria-label="Close"&gt;&lt;/button&gt;
        &lt;/div&gt;
        &lt;div class="modal-body"&gt;
            &lt;audio style="width: 100%; height: 40px;" controls&gt;&lt;/audio&gt;
        &lt;/div&gt;

        &lt;div class="modal-footer"&gt;
            &lt;button type="button" class="btn btn-success close-player"&gt;Close&lt;/button&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="lazy-dom modal-container modal-update-data" data-url="lib.ajax/song-update-dialog.php"&gt;&lt;/div&gt;

&lt;script&gt;
let updateSongModal;

$(document).ready(function(e){

$(document).on('click', '.edit-data', function(e2){
    e2.preventDefault();
    e2.stopPropagation();

    let songId = $(this).closest('tr').attr('data-id') || '';
    let dialogSelector = $('.modal-update-data');
    dialogSelector.load(dialogSelector.attr('data-url')+'?song_id='+songId, function(data){

    let updateSongModalElem = document.querySelector('#updateSongDialog');
    updateSongModal = new bootstrap.Modal(updateSongModalElem, {
        keyboard: false
    });
    updateSongModal.show();
    downloadForm('.lazy-dom-container', function(){
        if(!allDownloaded)
        {
            initModal2();
            console.log('loaded')
            allDownloaded = true;
        }
        loadForm();
    });
    })
});

$(document).on('click', '.save-update-song', function(){
    if($('.song-dialog audio').length &gt; 0)
    {
    $('.song-dialog audio').each(function(){
        $(this)[0].pause();
    });
    }
    let dataSet = $(this).closest('form').serializeArray();
    $.ajax({
    type:'POST',
    url:'lib.ajax/song-update.php',
    data:dataSet, 
    dataType:'json',
    success: function(data)
    {
        updateSongModal.hide();
        let formData = getFormData(dataSet);
        let dataId = data.song_id;
        $('[data-id="'+dataId+'"] .text-data.text-data-name').text(data.name);
        $('[data-id="'+dataId+'"] .text-data.text-data-title').text(data.title);
        $('[data-id="'+dataId+'"] .text-data.text-data-rating').text(data.rating);
        $('[data-id="'+dataId+'"] .text-data.text-data-track-number').text(data.track_number);
        $('[data-id="'+dataId+'"] .text-data.text-data-artist-vocal-name').text(data.artist_vocal_name);
        $('[data-id="'+dataId+'"] .text-data.text-data-artist-composer-name').text(data.artist_composer_name);
        $('[data-id="'+dataId+'"] .text-data.text-data-artist-arranger-name').text(data.artist_arranger_name);
        $('[data-id="'+dataId+'"] .text-data.text-data-album-name').text(data.album_name);
        $('[data-id="'+dataId+'"] .text-data.text-data-genre-name').text(data.genre_name);
        $('[data-id="'+dataId+'"] .text-data.text-data-duration').text(data.duration);
        $('[data-id="'+dataId+'"] .text-data.text-data-vocal').text(data.vocal === true || data.vocal == 1 || data.vocal == "1" ?'Yes':'No');
        $('[data-id="'+dataId+'"] .text-data.text-data-active').text(data.active === true || data.active == 1 || data.active == "1" ?'Yes':'No');
    }
    })
});
});
&lt;/script&gt;
&lt;?php
require_once "inc/footer.php";
?&gt;</code></pre>
</article>

<article class="article" id="part14">
<h2>Dump Database</h2>
<p>We can dump database to another database type. We do not need any database converter. Just define the target database type when we dump the database.</p>
<pre><code class="language-php">&lt;?php

use MagicObject\Database\PicoDatabaseType;
use MagicObject\Generator\PicoDatabaseDump;
use MagicObject\MagicObject;

require_once dirname(__DIR__) . "/vendor/autoload.php";

/**
 * @Entity
 * @JSON(property-naming-strategy=SNAKE_CASE)
 * @Table(name="song")
 */
class Song extends MagicObject
{
    /**
     * Song ID
     * 
     * @Id
     * @GeneratedValue(strategy=GenerationType.UUID)
     * @NotNull
     * @Column(name="song_id", type="varchar(50)", length=50, nullable=false)
     * @Label(content="Song ID")
     * @var string
     */
    protected $songId;

    /**
     * Random Song ID
     * 
     * @Column(name="random_song_id", type="varchar(50)", length=50, nullable=true)
     * @Label(content="Random Song ID")
     * @var string
     */
    protected $randomSongId;

    /**
     * Name
     * 
     * @Column(name="name", type="varchar(100)", length=100, nullable=true)
     * @Label(content="Name")
     * @var string
     */
    protected $name;

    /**
     * Title
     * 
     * @Column(name="title", type="text", nullable=true)
     * @Label(content="Title")
     * @var string
     */
    protected $title;

    /**
     * Album ID
     * 
     * @Column(name="album_id", type="varchar(50)", length=50, nullable=true)
     * @Label(content="Album ID")
     * @var string
     */
    protected $albumId;

    /**
     * Track Number
     * 
     * @Column(name="track_number", type="int(11)", length=11, nullable=true)
     * @Label(content="Track Number")
     * @var integer
     */
    protected $trackNumber;

    /**
     * Producer ID
     * 
     * @Column(name="producer_id", type="varchar(40)", length=40, nullable=true)
     * @Label(content="Producer ID")
     * @var string
     */
    protected $producerId;

    /**
     * Artist Vocal
     * 
     * @Column(name="artist_vocalist", type="varchar(50)", length=50, nullable=true)
     * @Label(content="Artist Vocal")
     * @var string
     */
    protected $artistVocalist;

    /**
     * Artist Composer
     * 
     * @Column(name="artist_composer", type="varchar(50)", length=50, nullable=true)
     * @Label(content="Artist Composer")
     * @var string
     */
    protected $artistComposer;

    /**
     * Artist Arranger
     * 
     * @Column(name="artist_arranger", type="varchar(50)", length=50, nullable=true)
     * @Label(content="Artist Arranger")
     * @var string
     */
    protected $artistArranger;

    /**
     * File Path
     * 
     * @Column(name="file_path", type="text", nullable=true)
     * @Label(content="File Path")
     * @var string
     */
    protected $filePath;

    /**
     * File Name
     * 
     * @Column(name="file_name", type="varchar(100)", length=100, nullable=true)
     * @Label(content="File Name")
     * @var string
     */
    protected $fileName;

    /**
     * File Type
     * 
     * @Column(name="file_type", type="varchar(100)", length=100, nullable=true)
     * @Label(content="File Type")
     * @var string
     */
    protected $fileType;

    /**
     * File Extension
     * 
     * @Column(name="file_extension", type="varchar(20)", length=20, nullable=true)
     * @Label(content="File Extension")
     * @var string
     */
    protected $fileExtension;

    /**
     * File Size
     * 
     * @Column(name="file_size", type="bigint(20)", length=20, nullable=true)
     * @Label(content="File Size")
     * @var integer
     */
    protected $fileSize;

    /**
     * File Md5
     * 
     * @Column(name="file_md5", type="varchar(32)", length=32, nullable=true)
     * @Label(content="File Md5")
     * @var string
     */
    protected $fileMd5;

    /**
     * File Upload Time
     * 
     * @Column(name="file_upload_time", type="timestamp", length=19, nullable=true)
     * @Label(content="File Upload Time")
     * @var string
     */
    protected $fileUploadTime;

    /**
     * First Upload Time
     * 
     * @Column(name="first_upload_time", type="timestamp", length=19, nullable=true)
     * @Label(content="First Upload Time")
     * @var string
     */
    protected $firstUploadTime;

    /**
     * Last Upload Time
     * 
     * @Column(name="last_upload_time", type="timestamp", length=19, nullable=true)
     * @Label(content="Last Upload Time")
     * @var string
     */
    protected $lastUploadTime;

    /**
     * File Path Midi
     * 
     * @Column(name="file_path_midi", type="text", nullable=true)
     * @Label(content="File Path Midi")
     * @var string
     */
    protected $filePathMidi;

    /**
     * Last Upload Time Midi
     * 
     * @Column(name="last_upload_time_midi", type="timestamp", length=19, nullable=true)
     * @Label(content="Last Upload Time Midi")
     * @var string
     */
    protected $lastUploadTimeMidi;

    /**
     * File Path Xml
     * 
     * @Column(name="file_path_xml", type="text", nullable=true)
     * @Label(content="File Path Xml")
     * @var string
     */
    protected $filePathXml;

    /**
     * Last Upload Time Xml
     * 
     * @Column(name="last_upload_time_xml", type="timestamp", length=19, nullable=true)
     * @Label(content="Last Upload Time Xml")
     * @var string
     */
    protected $lastUploadTimeXml;

    /**
     * File Path Pdf
     * 
     * @Column(name="file_path_pdf", type="text", nullable=true)
     * @Label(content="File Path Pdf")
     * @var string
     */
    protected $filePathPdf;

    /**
     * Last Upload Time Pdf
     * 
     * @Column(name="last_upload_time_pdf", type="timestamp", length=19, nullable=true)
     * @Label(content="Last Upload Time Pdf")
     * @var string
     */
    protected $lastUploadTimePdf;

    /**
     * Duration
     * 
     * @Column(name="duration", type="float", nullable=true)
     * @Label(content="Duration")
     * @var double
     */
    protected $duration;

    /**
     * Genre ID
     * 
     * @Column(name="genre_id", type="varchar(50)", length=50, nullable=true)
     * @Label(content="Genre ID")
     * @var string
     */
    protected $genreId;

    /**
     * Bpm
     * 
     * @Column(name="bpm", type="float", nullable=true)
     * @Label(content="Bpm")
     * @var double
     */
    protected $bpm;

    /**
     * Time Signature
     * 
     * @Column(name="time_signature", type="varchar(40)", length=40, nullable=true)
     * @Label(content="Time Signature")
     * @var string
     */
    protected $timeSignature;

    /**
     * Subtitle
     * 
     * @Column(name="subtitle", type="longtext", nullable=true)
     * @Label(content="Subtitle")
     * @var string
     */
    protected $subtitle;

    /**
     * Subtitle Complete
     * 
     * @Column(name="subtitle_complete", type="tinyint(1)", length=1, nullable=true)
     * @Label(content="Subtitle Complete")
     * @var boolean
     */
    protected $subtitleComplete;

    /**
     * Lyric Midi
     * 
     * @Column(name="lyric_midi", type="longtext", nullable=true)
     * @Label(content="Lyric Midi")
     * @var string
     */
    protected $lyricMidi;

    /**
     * Lyric Midi Raw
     * 
     * @Column(name="lyric_midi_raw", type="longtext", nullable=true)
     * @Label(content="Lyric Midi Raw")
     * @var string
     */
    protected $lyricMidiRaw;

    /**
     * Vocal Guide
     * 
     * @Column(name="vocal_guide", type="longtext", nullable=true)
     * @Label(content="Vocal Guide")
     * @var string
     */
    protected $vocalGuide;

    /**
     * Vocal
     * 
     * @Column(name="vocal", type="tinyint(1)", length=1, nullable=true)
     * @Label(content="Vocal")
     * @var boolean
     */
    protected $vocal;

    /**
     * Instrument
     * 
     * @Column(name="instrument", type="longtext", nullable=true)
     * @Label(content="Instrument")
     * @var string
     */
    protected $instrument;

    /**
     * Midi Vocal Channel
     * 
     * @Column(name="midi_vocal_channel", type="int(11)", length=11, nullable=true)
     * @Label(content="Midi Vocal Channel")
     * @var integer
     */
    protected $midiVocalChannel;

    /**
     * Rating
     * 
     * @Column(name="rating", type="float", nullable=true)
     * @Label(content="Rating")
     * @var double
     */
    protected $rating;

    /**
     * Comment
     * 
     * @Column(name="comment", type="longtext", nullable=true)
     * @Label(content="Comment")
     * @var string
     */
    protected $comment;

    /**
     * Image Path
     * 
     * @Column(name="image_path", type="text", nullable=true)
     * @Label(content="Image Path")
     * @var string
     */
    protected $imagePath;

    /**
     * Last Upload Time Image
     * 
     * @Column(name="last_upload_time_image", type="timestamp", length=19, nullable=true)
     * @Label(content="Last Upload Time Image")
     * @var string
     */
    protected $lastUploadTimeImage;

    /**
     * Time Create
     * 
     * @Column(name="time_create", type="timestamp", length=19, nullable=true, updatable=false)
     * @Label(content="Time Create")
     * @var string
     */
    protected $timeCreate;

    /**
     * Time Edit
     * 
     * @Column(name="time_edit", type="timestamp", length=19, nullable=true)
     * @Label(content="Time Edit")
     * @var string
     */
    protected $timeEdit;

    /**
     * IP Create
     * 
     * @Column(name="ip_create", type="varchar(50)", length=50, nullable=true, updatable=false)
     * @Label(content="IP Create")
     * @var string
     */
    protected $ipCreate;

    /**
     * IP Edit
     * 
     * @Column(name="ip_edit", type="varchar(50)", length=50, nullable=true)
     * @Label(content="IP Edit")
     * @var string
     */
    protected $ipEdit;

    /**
     * Admin Create
     * 
     * @Column(name="admin_create", type="varchar(50)", length=50, nullable=true, updatable=false)
     * @Label(content="Admin Create")
     * @var string
     */
    protected $adminCreate;

    /**
     * Admin Edit
     * 
     * @Column(name="admin_edit", type="varchar(50)", length=50, nullable=true)
     * @Label(content="Admin Edit")
     * @var string
     */
    protected $adminEdit;

    /**
     * Active
     * 
     * @Column(name="active", type="tinyint(1)", length=1, default_value="1", nullable=true)
     * @DefaultColumn(value="1")
     * @Label(content="Active")
     * @var boolean
     */
    protected $active;

}
</code></pre>
<h3>Dump Structure</h3>
<p>We can dump database structure without connect to real database. Just define the target database type. If we will dump multiple table, we must use dedicated instance of <code>PicoDatabaseDump</code>.</p>
<pre><code class="language-php">$song = new Song();
$dumpForSong = new PicoDatabaseDump();
echo $dumpForSong-&gt;dumpStructure($song, PicoDatabaseType::DATABASE_TYPE_MYSQL, true, true);</code></pre>
<h3>Dump Data</h3>
<p>We can dump data by connecting to real database. Don't forget to define the target database type. If we will dump multiple table, we must use dedicated instance of <code>PicoDatabaseDump</code>.</p>
<pre><code class="language-php">$song = new Song(null, $database);
$pageData = $song-&gt;findAll();
$dumpForSong = new PicoDatabaseDump();
echo $dumpForSong-&gt;dumpData($pageData, PicoDatabaseType::DATABASE_TYPE_MYSQL);</code></pre>
</article>

<article class="article" id="part15">
<h2>Object Label</h2>
<pre><code>&lt;?php

use MagicObject\MagicObject;

/**
 * @Entity
 * @JSON(property-naming-strategy=SNAKE_CASE)
 * @Table(name="user_type")
 */
class UserType extends MagicObject
{
    /**
     * User Type ID
     * 
     * @Id
     * @GeneratedValue(strategy=GenerationType.UUID)
     * @NotNull
     * @Column(name="user_type_id", type="varchar(50)", length=50, nullable=false)
     * @Label(content="User Type ID")
     * @var string
     */
    protected $userTypeId;

    /**
     * Name
     * 
     * @Column(name="name", type="varchar(255)", length=255, nullable=true)
     * @Label(content="Name")
     * @var string
     */
    protected $name;

    /**
     * Admin
     * 
     * @Column(name="admin", type="tinyint(1)", length=1, nullable=true)
     * @var boolean
     */
    protected $admin;

    /**
     * Sort Order
     * 
     * @Column(name="sort_order", type="int(11)", length=11, nullable=true)
     * @Label(content="Sort Order")
     * @var integer
     */
    protected $sortOrder;

    /**
     * Time Create
     * 
     * @Column(name="time_create", type="timestamp", length=19, nullable=true, updatable=false)
     * @Label(content="Time Create")
     * @var string
     */
    protected $timeCreate;

    /**
     * Time Edit
     * 
     * @Column(name="time_edit", type="timestamp", length=19, nullable=true)
     * @Label(content="Time Edit")
     * @var string
     */
    protected $timeEdit;

    /**
     * Admin Create
     * 
     * @Column(name="admin_create", type="varchar(40)", length=40, nullable=true, updatable=false)
     * @Label(content="Admin Create")
     * @var string
     */
    protected $adminCreate;

    /**
     * Admin Edit
     * 
     * @Column(name="admin_edit", type="varchar(40)", length=40, nullable=true)
     * @Label(content="Admin Edit")
     * @var string
     */
    protected $adminEdit;

    /**
     * IP Create
     * 
     * @Column(name="ip_create", type="varchar(50)", length=50, nullable=true, updatable=false)
     * @Label(content="IP Create")
     * @var string
     */
    protected $ipCreate;

    /**
     * IP Edit
     * 
     * @Column(name="ip_edit", type="varchar(50)", length=50, nullable=true)
     * @Label(content="IP Edit")
     * @var string
     */
    protected $ipEdit;

    /**
     * Active
     * 
     * @Column(name="active", type="tinyint(1)", length=1, default_value="1", nullable=true)
     * @DefaultColumn(value="1")
     * @var boolean
     */
    protected $active;

}</code></pre>
<pre><code class="language-php">
require_once dirname(__DIR__) . "/vendor/autoload.php";

$userType = new UserType();

// print label of adminCreate property
echo $userType-&gt;labelAdminCreate();
// it will print "Admin Create"</code></pre>
</article>

<article class="article" id="part16">
<h2>Database Query Builder</h2>
<p>Database Query Builder is a feature for creating object-based database queries. The output of the Database Query Builder is a query that can be directly executed by the database used.</p>
<p>Database Query Builder is actually designed for all relational databases but is currently only available in two languages, namely MySQL and PostgreSQL. MagicObject internally uses the Database Query Builder to create queries based on given methods and parameters.</p>
<p>Database Query Builder is required to create native queries that cannot be created automatically by MagicObject. Apart from that, Database Query Builder is also used for performance reasons where native queries will run faster because they only retrieve the desired columns and do not perform unnecessary joins.</p>
<pre><code class="language-php">&lt;?php

use MagicObject\Database\PicoDatabaseQueryBuilder;

use MagicObject\Database\PicoDatabase;
use MagicObject\Database\PicoDatabaseCredentials;
use MusicProductionManager\Config\ConfigApp;

use MusicProductionManager\Config\ConfigApp;

use MusicProductionManager\Data\Entity\Album;

require_once dirname(__DIR__)."/vendor/autoload.php";

$cfg = new ConfigApp(null, true);
$cfg-&gt;loadYamlFile(dirname(__DIR__)."/.cfg/app.yml", true, true);

$databaseCredentials = new PicoDatabaseCredentials($cfg-&gt;getDatabase());
$database = new PicoDatabase($databaseCredentials);
try
{
    $database-&gt;connect();

    $queryBuilder = new PicoDatabaseQueryBuilder($database);

    $queryBuilder
        -&gt;newQuery()
        -&gt;select("u.*")
        -&gt;from("user")
        -&gt;alias("u")
        -&gt;where("u.username = ? and u.password = ? and u.active = ?", $username, $password, true)
        ;
    $stmt = $database-&gt;executeQuery($queryBuilder);
    $rows = $stmt-&gt;fetchAll(PDO::FETCH_ASSOC);
    foreach($rows as $user)
    {
        var_dump($user);
    }

}
catch(Ecxeption $e)
{

}</code></pre>
<h3>Methods</h3>
<p><strong>newQuery()</strong></p>
<p><code>newQuery()</code> is method to clear all properties from previous query. Allways invoke this method before create new query to ensure the query is correct.</p>
<p><strong>insert()</strong></p>
<p><code>insert()</code> is method to start the <code>INSERT</code> query.</p>
<p>Example 1:</p>
<pre><code class="language-php">$queryBuilder = new PicoDatabaseQueryBuilder($database);
$queryBuilder-&gt;newQuery()
    -&gt;insert()
    -&gt;into("song")
    -&gt;fields("(song_id, name, title, time_create)")
    -&gt;values("('123456', 'Lagu 0001', 'Membendung Rindu', '2024-03-03 10:11:12')");
/*
insert into song
(song_id, name, title, time_create)
values('123456', 'Lagu 0001', 'Membendung Rindu', '2024-03-03 10:11:12')
*/</code></pre>
<p>This way, <code>('123456', 'Lagu 0001', 'Membendung Rindu', '2024-03-03 10:11:12')</code> will be executed by the database as is. You have to escape them manually before use it.</p>
<p><strong>into($query)</strong></p>
<p><code>into($query)</code> is method for <code>INTO</code></p>
<p>Example 1:</p>
<pre><code class="language-php">$queryBuilder = new PicoDatabaseQueryBuilder($database);
$queryBuilder-&gt;newQuery()
    -&gt;insert()
    -&gt;into("song")
    -&gt;fields("(song_id, name, title, time_create)")
    -&gt;values("('123456', 'Lagu 0001', 'Membendung Rindu', '2024-03-03 10:11:12')");
/*
insert into song
(song_id, name, title, time_create)
values('123456', 'Lagu 0001', 'Membendung Rindu', '2024-03-03 10:11:12')
*/</code></pre>
<p><strong>fields($query)</strong></p>
<p><code>fields($query)</code> is method to send field on query <code>INSERT</code>. The parameter can be an array or string.</p>
<p><strong>values($query)</strong></p>
<p><code>values($query)</code> is method to send values on query <code>INSERT</code>. The parameter can be an array or string.</p>
<p>Example 1:</p>
<pre><code class="language-php">$queryBuilder = new PicoDatabaseQueryBuilder($database);
$queryBuilder-&gt;newQuery()
    -&gt;insert()
    -&gt;into("song")
    -&gt;fields("(song_id, name, title, time_create)")
    -&gt;values("('123456', 'Lagu 0001', 'Membendung Rindu', '2024-03-03 10:11:12')");
/*
insert into song
(song_id, name, title, time_create)
values('123456', 'Lagu 0001', 'Membendung Rindu', '2024-03-03 10:11:12')
*/</code></pre>
<p>This way, <code>('123456', 'Lagu 0001', 'Membendung Rindu', '2024-03-03 10:11:12')</code> will be executed by the database as is. You have to escape them manually before use it.</p>
<p>Example 2:</p>
<pre><code class="language-php">$queryBuilder = new PicoDatabaseQueryBuilder($database);
$queryBuilder-&gt;newQuery()
    -&gt;insert()
    -&gt;into("song")
    -&gt;fields("(song_id, name, title, time_create)")
    -&gt;values("(?, ?, ?, ?)", '123456', 'Lagu 0001', 'Membendung Rindu', '2024-03-03 10:11:12');
/*
insert into song
(song_id, name, title, time_create)
values('123456', 'Lagu 0001', 'Membendung Rindu', '2024-03-03 10:11:12')
*/</code></pre>
<p>This way, <code>'123456', 'Lagu 0001', 'Membendung Rindu', '2024-03-03 10:11:12'</code> will be escaped before being executed by the database. You don't need to escape it first.</p>
<p>Example 3:</p>
<pre><code class="language-php">$queryBuilder = new PicoDatabaseQueryBuilder($database);
$queryBuilder-&gt;newQuery()
    -&gt;insert()
    -&gt;into("song")
    -&gt;fields(array("song_id", "name", "title", "time_create"))
    -&gt;values(array('123456', 'Lagu 0001', 'Membendung Rindu', '2024-03-03 10:11:12'));
/*
insert into song
(song_id, name, title, time_create)
values('123456', 'Lagu 0001', 'Membendung Rindu', '2024-03-03 10:11:12')
*/</code></pre>
<p>This way, <code>'123456', 'Lagu 0001', 'Membendung Rindu', '2024-03-03 10:11:12'</code> will be executed by the database as is. You have to escape them manually before use it.</p>
<p>Example 4:</p>
<pre><code class="language-php">$queryBuilder = new PicoDatabaseQueryBuilder($database);
$queryBuilder-&gt;newQuery()
    -&gt;insert()
    -&gt;into("song")
    -&gt;fields("(song_id, name, title, time_create)")
    -&gt;values(array('123456', 'Lagu 0001', 'Membendung Rindu', '2024-03-03 10:11:12'));
/*
insert into song
(song_id, name, title, time_create)
values('123456', 'Lagu 0001', 'Membendung Rindu', '2024-03-03 10:11:12')
*/</code></pre>
<p>This way, <code>'123456', 'Lagu 0001', 'Membendung Rindu', '2024-03-03 10:11:12'</code> will be executed by the database as is. You have to escape them manually before use it.</p>
<p>Example 5:</p>
<pre><code class="language-php">$queryBuilder = new PicoDatabaseQueryBuilder($database);
$data = array(
    "song_id"=&gt;'123456', 
    "name"=&gt;'Lagu 0001', 
    "title"=&gt;'Membendung Rindu', 
    "time_create"=&gt;'2024-03-03 10:11:12'
    );
$queryBuilder-&gt;newQuery()
    -&gt;insert()
    -&gt;into("song")
    -&gt;fields(array_keys($data))
    -&gt;values(array_values($data));
/*
insert into song
(song_id, name, title, time_create)
values('123456', 'Lagu 0001', 'Membendung Rindu', '2024-03-03 10:11:12')
*/</code></pre>
<p>This way, <code>'123456', 'Lagu 0001', 'Membendung Rindu', '2024-03-03 10:11:12'</code> will be escaped before being executed by the database. You don't need to escape it first.</p>
<p><strong>select($query)</strong></p>
<p><code>select($query)</code> is metod for query <code>SELECT</code></p>
<p><strong>alias($query)</strong></p>
<p><code>alias($query)</code> is method for query <code>AS</code></p>
<p><strong>delete()</strong></p>
<p><code>delete</code> is method for query <code>DELETE</code></p>
<p><strong>from($query)</strong></p>
<p><code>from($query)</code> is method for query <code>FROM</code></p>
<p><strong>where($query)</strong></p>
<p><code>from($query)</code> is method for query <code>WHERE</code></p>
<p>Example 1:</p>
<pre><code class="language-php">$queryBuilder = new PicoDatabaseQueryBuilder($database);
$queryBuilder-&gt;newQuery()
    -&gt;select("*")
    -&gt;from("song")
    -&gt;where("time_create &gt; '2023-01-01' ");
/*
select *
from song
where time_create &gt; '2023-01-01'
*/

$queryBuilder-&gt;newQuery()
    -&gt;detele()
    -&gt;from("song")
    -&gt;where("time_create &gt; '2023-01-01' ");
/*
delete
from song
where time_create &gt; '2023-01-01'
*/</code></pre>
<p>This way, <code>'2023-01-01'</code> will be executed by the database as is. You have to escape them manually before use it.</p>
<p>Example 2:</p>
<pre><code class="language-php">$queryBuilder = new PicoDatabaseQueryBuilder($database);
$queryBuilder-&gt;newQuery()
    -&gt;select("song_id, name as song_code, title, time_create")
    -&gt;from("song")
    -&gt;where("time_create &gt; '2023-01-01' ");
/*
select song_id, name as song_code, title, time_create
from song
where time_create &gt; '2023-01-01'
*/</code></pre>
<p>This way, <code>'2023-01-01'</code> will be executed by the database as is. You have to escape them manually before use it.</p>
<p>Example 3:</p>
<pre><code class="language-php">$queryBuilder = new PicoDatabaseQueryBuilder($database);
$queryBuilder-&gt;newQuery()
    -&gt;select("song_id, name as song_code, title, time_create")
    -&gt;from("song")
    -&gt;where("time_create &gt; ? ", '2023-01-01');
/*
select song_id, name as song_code, title, time_create
from song
where time_create &gt; '2023-01-01'
*/

$queryBuilder-&gt;newQuery()
    -&gt;delete()
    -&gt;from("song")
    -&gt;where("time_create &gt; ? ", '2023-01-01');
/*
delete
from song
where time_create &gt; '2023-01-01'
*/</code></pre>
<p>This way, <code>'2023-01-01'</code> will be escaped before being executed by the database. You don't need to escape it first.</p>
<p>Example 4:</p>
<pre><code class="language-php">$queryBuilder = new PicoDatabaseQueryBuilder($database);
$queryBuilder-&gt;newQuery()
    -&gt;select("song_id, name as song_code, title, time_create")
    -&gt;from("song")
    -&gt;where("time_create &lt; ? ", date('Y-m-d H:i:s'));
/*
select song_id, name as song_code, title, time_create
from song
where time_create &gt; '2023-01-00 12:12:12'
*/

$queryBuilder-&gt;newQuery()
    -&gt;delete()
    -&gt;from("song")
    -&gt;where("time_create &lt; ? ", date('Y-m-d H:i:s'));
/*
delete
from song
where time_create &gt; '2023-01-00 12:12:12'
*/</code></pre>
<p><strong>join($query)</strong></p>
<p><strong>leftJoin($query)</strong></p>
<p><strong>rightJoin($query)</strong></p>
<p><strong>innerJoin($query)</strong></p>
<p><strong>outerJoin($query)</strong></p>
<p>Example</p>
<pre><code class="language-php">$queryBuilder = new PicoDatabaseQueryBuilder($database);
$active = true;
$queryBuilder-&gt;newQuery()
    -&gt;select("song.*, album.name as album_name")
    -&gt;from("song")
    -&gt;leftJoin("album")
    -&gt;on("album.album_id = song.album_id")
    -&gt;where("song.active = ? ", $active);
/*
select song.*, album.name as album_name
from song
left join album
on album.album_id = song.album_id
where song.active = true
*/</code></pre>
<p>This way, <code>$active</code> will be escaped before being executed by the database. You don't need to escape it first.</p>
</article>

<article class="article" id="part17">
<h2>Upload File</h2>
<p>Uploading lots of files with arrays is difficult for some developers, especially novice developers. There is a significant difference between uploading a single file and multiple files.</p>
<p>When the developer decides to change the form from single file to multiple files or vice versa, the backend developer must change the code to handle the uploaded files.</p>
<pre><code class="language-html">&lt;!-- single file --&gt;
&lt;form action="" method="post" enctype="multipart/form-data"&gt;
     &lt;input name="myupload" type="file" /&gt;
     &lt;input type="submit" /&gt;
&lt;/form&gt;</code></pre>
<pre><code class="language-html">&lt;!-- multiple files --&gt;
&lt;form action="" method="post" enctype="multipart/form-data"&gt;
     &lt;input name="myupload[]" type="file" webkitdirectory multiple /&gt;
     &lt;input type="submit" /&gt;
&lt;/form&gt;</code></pre>
<pre><code class="language-php">&lt;?php

use MagicObject\File\PicoUplodFile;

require_once "vendor/autoload.php";

$files = new UplodFile();

$file1 = $files-&gt;get('myupload');
// or 
// $file1 = $files-&gt;myupload;

$targetDir = __DIR__;

foreach($file1-&gt;getAll() as $fileItem)
{
    $temporaryName = $fileItem-&gt;getTmpName();
    $name = $fileItem-&gt;getName();
    $size = $fileItem-&gt;getSize();
    echo "$name | $temporaryName | $size\r\n";
    move_uploaded_file($temporaryName, $targetDir."/".$name);
}
</code></pre>
<p>Developers simply retrieve data using the <code>getAll</code> method and developers will get all files uploaded by users either via single file or multiple file forms. If necessary, the developer can check whether the file was uploaded using a single file or multiple file form with the <code>isMultiple()</code> method</p>
<pre><code class="language-php">
if($file1-&gt;isMultiple())
{
    // do something here
}
else
{
    // do something here
}</code></pre>
</article>

<article class="article" id="part18">
<h2>Language</h2>
<p>MagicObject supports multilingual applications. MagicObject allows developers to create entities that support a wide variety of languages that users can choose from. At the same time, different users can use different languages.</p>
<p>To create table with multiple language, create new class from <code>DataTable</code> object. We can copy data from aother object to <code>DataTable</code> easly.</p>
<pre><code class="language-php">&lt;?php

use MagicObject\DataTable;
use MagicObject\MagicObject;

require_once dirname(__DIR__) . "/vendor/autoload.php";

/**
 * @Entity
 * @JSON(property-naming-strategy=SNAKE_CASE)
 * @Table(name="song")
 */
class Song extends MagicObject
{
    /**
     * Song ID
     * 
     * @Id
     * @GeneratedValue(strategy=GenerationType.UUID)
     * @NotNull
     * @Column(name="song_id", type="varchar(50)", length=50, nullable=false)
     * @Label(content="Song ID")
     * @var string
     */
    protected $songId;

    /**
     * Name
     * 
     * @Column(name="name", type="varchar(100)", length=100, nullable=true)
     * @Label(content="Name")
     * @var string
     */
    protected $name;

    /**
     * Title
     * 
     * @Column(name="title", type="text", nullable=true)
     * @Label(content="Title")
     * @var string
     */
    protected $title;

    /**
     * Composer
     * 
     * @Column(name="composer", type="text", nullable=true)
     * @Label(content="Composer")
     * @var string
     */
    protected $composer;

    /**
     * Vocalist
     * 
     * @Column(name="vocalist", type="text", nullable=true)
     * @Label(content="Vocalist")
     * @var string
     */
    protected $vocalist;
}

/**
 * House
 * 
 * @Attributes(id="house" width="100%" style="border-collapse:collapse; color:#333333")
 * @ClassList(content="table table-responsive")
 * @DefaultColumnLabel(content="Language")
 * @Language(content="en")
 * @JSON(property-naming-strategy=SNAKE_CASE)
 * @Table(name="album")
 * @Id(content="house")
 */
class Multibahasa extends DataTable
{

}

$song = new Song();
$song
    -&gt;setSongId("11111")
    -&gt;setTitle("Lagu Satu")
    -&gt;setComposer("Kamshory")
    -&gt;setVocalist("Roy")
    ;

$translated = new Multibahasa($song);
echo $translated;

// add language from array
$translated-&gt;addLanguage("id", 
    array(
        "songId" =&gt; "ID Lagu",
        "title" =&gt; "Judul",
        "composer" =&gt; "Pengarang",
        "vocalist" =&gt; "Penyanyi"
    )
);
$translated-&gt;selectLanguage('id');
echo $translated;

// add language from stdClass
$translator1 = new stdClass;

$translator1-&gt;songId = "ID Lagu";
$translator1-&gt;title = "Judul";
$translator1-&gt;composer = "Pengarang";
$translator1-&gt;vocalist = "Penyanyi";

$translated-&gt;addLanguage("id", $translator1);
$translated-&gt;selectLanguage('id');
echo $translated;

// add language from specific class
class Bahasa
{
    public $songId = "ID Lagu";
    public $title = "Judul";
    public $composer = "Pengarang";
    public $vocalist = "Penyanyi";
}

$translator2 = new Bahasa();

$translated-&gt;addLanguage("id", $translator2);
$translated-&gt;selectLanguage('id');
echo $translated;
</code></pre>
<pre><code class="language-php">&lt;?php

use MagicObject\DataTable;
use MagicObject\Util\ClassUtil\PicoObjectParser;

require_once dirname(__DIR__) . "/vendor/autoload.php";

/**
 * House
 * 
 * @Attributes(id="house" width="100%" style="border-collapse:collapse; color:#333333")
 * @ClassList(content="table table-responsive")
 * @DefaultColumnLabel(content="Language")
 * @Language(content="en")
 * @JSON(property-naming-strategy=SNAKE_CASE)
 * @Table(name="album")
 * @Id(content="house")
 */
class House extends DataTable
{
    /**
     * ID
     *
     * @Label(content="ID")
     * @Column(name="id")
     * @var string
     */
    protected $id;

    /**
     * Address
     *
     * @Label(content="Address")
     * @Column(name="address")
     * @var string
     */
    protected $address;

    /**
     * Color
     *
     * @Label(content="Color")
     * @Column(name="color")
     * @var string
     */
    protected $color;

    /**
     * Time Create
     *
     * @Label(content="Time Create")
     * @Column(name="timeCreate")
     * @var DateTime
     */
    protected $timeCreate;

}

class BahasaIndonesia extends stdClass
{
    public $id = "ID";

    public $address = "Alamat";

    public $color = "Warna";

    public $timeCreate = "Waktu Buat";
}

$data = PicoObjectParser::parseYamlRecursive(
"id: 1
address: Jalan Inspeksi no 9
color: blue
"
);

$language = new BahasaIndonesia();

$rumah = new House($data);
$rumah-&gt;addLanguage('id', $language);
$rumah-&gt;selectLanguage('id');
$rumah-&gt;addClass('table');

$apa = $rumah;
echo $apa;</code></pre>
</article>


</div>

<div id="nav"> 
  <ul>  
  </ul>
</div>

</body>
</html>
